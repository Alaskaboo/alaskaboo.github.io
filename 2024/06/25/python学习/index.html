

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Alaskaboo">
  <meta name="keywords" content="">
  
    <meta name="description" content="一 基础语法1 基本操作输出： 1234print(&quot;每日增长系数：%.1f，经过%d天的增长后，股价达到了：%0.2f&quot; % (stock_price_daily_growth_factor,                                              growth_days,stock_price_daily_growth_factor **">
<meta property="og:type" content="article">
<meta property="og:title" content="python语法">
<meta property="og:url" content="http://example.com/2024/06/25/python%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Alaskaboo&#39;s Blog">
<meta property="og:description" content="一 基础语法1 基本操作输出： 1234print(&quot;每日增长系数：%.1f，经过%d天的增长后，股价达到了：%0.2f&quot; % (stock_price_daily_growth_factor,                                              growth_days,stock_price_daily_growth_factor **">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213825352.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213832867.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213835311.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213837620.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213839927.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213842319.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213904529.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213906260.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213911681.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213914824.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213920954.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213937928.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213940349.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213947085.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213951212.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213957457.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214000200.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214005595.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214030081.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214033173.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214040300.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214055645.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214059451.png">
<meta property="og:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214103457.png">
<meta property="article:published_time" content="2024-06-25T15:16:22.000Z">
<meta property="article:modified_time" content="2025-06-28T02:18:13.608Z">
<meta property="article:author" content="Alaskaboo">
<meta property="article:tag" content="python">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213825352.png">
  
  
  
  <title>python语法 - Alaskaboo&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":"akJv1KA0MwGLTy6JWX7w0dA4-gzGzoHsz","app_key":"tLxfRjWzNlEaAQyKovK194Yt","server_url":"https://akjv1ka0.lc-cn-n1-shared.com","path":"window.location.pathname","ignore_local":true},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Alaskaboo&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="python语法"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-06-25 23:16" pubdate>
          2024年6月25日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          14k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          119 分钟
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> 次
        </span>
        
      
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">python语法</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="一-基础语法"><a href="#一-基础语法" class="headerlink" title="一 基础语法"></a>一 基础语法</h1><h2 id="1-基本操作"><a href="#1-基本操作" class="headerlink" title="1 基本操作"></a>1 基本操作</h2><p>输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;每日增长系数：%.1f，经过%d天的增长后，股价达到了：%0.2f&quot;</span> % (stock_price_daily_growth_factor, <br>                                             growth_days,stock_price_daily_growth_factor ** growth_days * stock_price))<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;公司：<span class="hljs-subst">&#123;name&#125;</span>,股票代码：<span class="hljs-subst">&#123;stock_code&#125;</span>，当前股价：<span class="hljs-subst">&#123;stock_price&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>输入：input()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请告诉我你是谁？\n&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;我知道了，你是：<span class="hljs-subst">&#123;name&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>变量类型查看：type(num)</p>
<p>注释：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 单行注释</span><br><br><span class="hljs-string">&quot;&quot;&quot; </span><br><span class="hljs-string">多行</span><br><span class="hljs-string">注释</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br></code></pre></td></tr></table></figure>

<h2 id="2-数据容器"><a href="#2-数据容器" class="headerlink" title="2 数据容器"></a>2 数据容器</h2><h3 id="2-1-列表"><a href="#2-1-列表" class="headerlink" title="2.1 列表"></a>2.1 列表</h3><img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213825352.png" srcset="/img/loading.gif" lazyload alt="image-20241015102741282" style="zoom: 50%;" />

<h3 id="2-2-元组"><a href="#2-2-元组" class="headerlink" title="2.2 元组"></a>2.2 元组</h3><p>元组如下特点：</p>
<ul>
<li>可以容纳多个数据</li>
<li>可以容纳不同类型的数据(混装)</li>
<li>数据是有序存储的(下标索引)</li>
<li>允许重复数据存在</li>
<li><strong>不可以修改(增加或删除元素等</strong>)</li>
<li>支持for循环</li>
</ul>
<p>多数特性和list一致，不同点在于不可修改的特性</p>
<h3 id="2-3-字符串"><a href="#2-3-字符串" class="headerlink" title="2.3 字符串"></a>2.3 字符串</h3><p><strong>字符串常用操作</strong>：</p>
<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213832867.png" srcset="/img/loading.gif" lazyload alt="QQ_1728993503669" style="zoom: 50%;" />

<p>作为数据容器，字符串有如下特点：</p>
<ul>
<li>只可以存储字符串</li>
<li>长度任意(取决于内存大小)</li>
<li>支持下标索引</li>
<li>允许重复字符串存在</li>
<li><font color = 'red'>不可以修改(增加或删除元素等)</font></li>
<li>支持for循环</li>
</ul>
<p><font color = 'red'>序列的操作——切片</font></p>
<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213835311.png" srcset="/img/loading.gif" lazyload alt="QQ_1729253002333" style="zoom: 50%;" />



<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213837620.png" srcset="/img/loading.gif" lazyload alt="QQ_1729404550833" style="zoom:50%;" />

<h3 id="2-4-集合"><a href="#2-4-集合" class="headerlink" title="2.4 集合"></a>2.4 集合</h3><p>特点：</p>
<ul>
<li>可以容纳多个数据</li>
<li>可以容纳不同类型的数据(混装)</li>
<li><font color = 'red'>数据是无序存储的(不支持下标索引)</font></li>
<li><font color = 'red'>不允许重复数据存在</font></li>
<li>可以修改(增加或删除元素等)</li>
<li>支持for循环</li>
</ul>
<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213839927.png" srcset="/img/loading.gif" lazyload alt="QQ_1729405849701" style="zoom:50%;" />



<h3 id="2-5-字典"><a href="#2-5-字典" class="headerlink" title="2.5 字典"></a>2.5 字典</h3><img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213842319.png" srcset="/img/loading.gif" lazyload alt="QQ_1729408491876" style="zoom:50%;" />

<p>特点：</p>
<ul>
<li>可以容纳多个数据</li>
<li>可以容纳不同类型的数据</li>
<li>每一份数据是KeyValue键值对</li>
<li>可以通过Key获取到Value，Key不可重复（重复会覆盖）</li>
<li>不支持下标索引</li>
<li>可以修改(增加或删除更新元素等)</li>
<li>支持for循环，不支持while循环</li>
</ul>
<h2 id="3-数据容器特点对比"><a href="#3-数据容器特点对比" class="headerlink" title="3 数据容器特点对比"></a>3 数据容器特点对比</h2><p>数据容器可以从以下视角进行简单的分类:</p>
<ul>
<li><strong>是否支持下标索引</strong><ul>
<li>支持：列表、元组、字符串-序列类型</li>
<li>不支持：集合、字典-非序列类型</li>
</ul>
</li>
<li><strong>是否支持重复元素</strong><ul>
<li>支持：列表、元组、字符串-序列类型</li>
<li>不支持：集合、字典-非序列类型</li>
</ul>
</li>
<li><strong>是否可以修改</strong><ul>
<li>支持：列表、集合、字典</li>
<li>不支持：元组、字符串</li>
</ul>
</li>
</ul>
<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213904529.png" srcset="/img/loading.gif" lazyload alt="QQ_1729409879651" style="zoom: 50%;" />

<p>使用场景：</p>
<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213906260.png" srcset="/img/loading.gif" lazyload alt="QQ_1729409922983" style="zoom: 50%;" />

<p>sorted(容器，[reverse &#x3D; True])</p>
<h2 id="4-函数操作"><a href="#4-函数操作" class="headerlink" title="4 函数操作"></a>4 函数操作</h2><h3 id="4-1-多种参数使用形式"><a href="#4-1-多种参数使用形式" class="headerlink" title="4.1 多种参数使用形式"></a>4.1 多种参数使用形式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">user_info</span>(<span class="hljs-params">name, age, gender</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;您的姓名是<span class="hljs-subst">&#123;name&#125;</span>，年龄是：<span class="hljs-subst">&#123;age&#125;</span>，性别是：<span class="hljs-subst">&#123;gender&#125;</span>&#x27;</span>)<br>    <br>user_info(<span class="hljs-string">&quot;tom&quot;</span>, <span class="hljs-number">20</span>, <span class="hljs-string">&quot;男&quot;</span>)<br></code></pre></td></tr></table></figure>



<p><strong>位置参数不定长</strong>：传进的所有参数都会被args变量收集，它会根据传进参数的位置合并为一个元组(tuple)，args是元组类型，这就是位置传递</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">user_info</span>(<span class="hljs-params">*args</span>):<br>    <span class="hljs-built_in">print</span>(args)<br>    <br>user_info(<span class="hljs-string">&quot;tom&quot;</span>, <span class="hljs-number">20</span>, <span class="hljs-string">&quot;男&quot;</span>)<br></code></pre></td></tr></table></figure>



<p><strong>关键字参数不定长</strong>：参数是“键&#x3D;值”形式的形式的情况下，所有的“键&#x3D;值”都会被kwargs接受，同时会根据“键&#x3D;值”组成字典</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">user_info3</span>(<span class="hljs-params">**kwargs</span>):<br>    <span class="hljs-built_in">print</span>(kwargs)<br><br><br>user_info3(name=<span class="hljs-string">&quot;tom&quot;</span>, age=<span class="hljs-number">20</span>, gender=<span class="hljs-string">&quot;男&quot;</span>)<br></code></pre></td></tr></table></figure>





<h3 id="4-2-匿名函数"><a href="#4-2-匿名函数" class="headerlink" title="4.2 匿名函数"></a>4.2 匿名函数</h3><h4 id="4-2-1-函数作为参数传递"><a href="#4-2-1-函数作为参数传递" class="headerlink" title="4.2.1 函数作为参数传递"></a>4.2.1 函数作为参数传递</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 调用一个函数，接受另一个函数作为传入参数</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_func</span>(<span class="hljs-params">mult_func</span>):<br>    <span class="hljs-comment"># 确定mult_func是函数</span><br>    result = mult_func(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;计算的结果是：<span class="hljs-subst">&#123;result&#125;</span>&quot;</span>)<br><br><br><span class="hljs-comment"># 定义一个函数，准备作为参数传入另一个函数</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">mult_func</span>(<span class="hljs-params">x, y</span>):<br>    <span class="hljs-keyword">return</span> x * y<br><br><br><span class="hljs-comment"># 调用，并传入函数</span><br>test_func(mult_func)<br></code></pre></td></tr></table></figure>



<h4 id="4-2-2-lambda函数"><a href="#4-2-2-lambda函数" class="headerlink" title="4.2.2 lambda函数"></a>4.2.2 lambda函数</h4><p>函数的定义中</p>
<ul>
<li>def键字，可以定义带有名称的函数</li>
<li>lambda关键字，可以定义匿名函数(无名称)</li>
</ul>
<p>有名称的函数，可以基于名称<strong>重复使用</strong></p>
<p>无名称的匿名函数，只可<strong>临时使用一次</strong>。</p>
<p>匿名函数定义语法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">lambda</span> 传入参数:函数体(一行代码)<br></code></pre></td></tr></table></figure>

<ul>
<li>lambda 是关键字，表示定义匿名函数</li>
<li>传入参数表示匿名函数的形式参数，如：x，y表示接收2个形式参数</li>
<li>函数体，就是函数的执行逻辑，要注意：只能写一行，无法写多行代码</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 调用一个函数，接受另一个函数作为传入参数</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_func</span>(<span class="hljs-params">mult_func</span>):<br>    <span class="hljs-comment"># 确定mult_func是函数</span><br>    result = mult_func(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;计算的结果是：<span class="hljs-subst">&#123;result&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># 调用，并传入函数</span><br>test_func(<span class="hljs-keyword">lambda</span> x, y: x * y)<br></code></pre></td></tr></table></figure>



<h1 id="二-文件操作"><a href="#二-文件操作" class="headerlink" title="二 文件操作"></a>二 文件操作</h1><h2 id="2-1-基本概念"><a href="#2-1-基本概念" class="headerlink" title="2.1 基本概念"></a>2.1 基本概念</h2><p>在Python，使用open函数，可以打开一个已经存在的文件，或者创建一个新文件，语法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">open</span>(name,mode,encoding)<br></code></pre></td></tr></table></figure>

<p>name：是要打开的目标文件名的字符串(可以包含文件所在的具体路径)。</p>
<p>mode：设置打开文件的模式(访问模式):只读、写入、追加等。</p>
<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213911681.png" srcset="/img/loading.gif" lazyload alt="QQ_1729420889601" style="zoom:50%;" />

<p>encoding：编码格式(推荐使用UTF-8)</p>
<p>示例代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;python.txt&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>,encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>)<br><span class="hljs-comment">#encoding的顺序不是第三位，所以不能用位置参数，用关键字参数直接指定</span><br></code></pre></td></tr></table></figure>



<h2 id="2-2-读取相关操作"><a href="#2-2-读取相关操作" class="headerlink" title="2.2 读取相关操作"></a>2.2 读取相关操作</h2><p><strong>read()方法：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">文件对象.read(num)<br></code></pre></td></tr></table></figure>

<p>num表示要从文件中读取的数据的长度(单位是字节)，如果没有传入num，那么就表示读取文件中所有的数据</p>
<p><strong>readlines()方法：</strong></p>
<p>readlines可以按照行的方式把整个文件中的内容进行一次性读取，并且返回的是一个列表，其中每一行的数据为一个元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 通过在with open的语句块中对文件进行操作</span><br><span class="hljs-comment"># 可以在操作完成后自动关闭close文件，避免遗忘掉close方法</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;python.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    f.readlines()<br></code></pre></td></tr></table></figure>



<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213914824.png" srcset="/img/loading.gif" lazyload alt="QQ_1729422292042" style="zoom: 50%;" />



<h2 id="2-3-写入相关操作"><a href="#2-3-写入相关操作" class="headerlink" title="2.3 写入相关操作"></a>2.3 写入相关操作</h2><p><strong>覆盖用w</strong></p>
<p>2.写入的方法有:</p>
<ul>
<li>wirte()，写入内容</li>
<li>flush()，刷新内容到硬盘中</li>
</ul>
<p>3.注意事项:</p>
<ul>
<li><p>w模式，文件不存在，会创建新文件</p>
</li>
<li><p>w模式，文件存在，会清空原有内容</p>
</li>
<li><p>close()方法，带有flush()方法的功能</p>
</li>
</ul>
<p><strong>追加用a</strong></p>
<h1 id="三-异常"><a href="#三-异常" class="headerlink" title="三 异常"></a>三 异常</h1><h2 id="3-1-异常概念"><a href="#3-1-异常概念" class="headerlink" title="3.1 异常概念"></a>3.1 异常概念</h2><blockquote>
<p>捕获异常的作用在于：提前假设某处会出现异常，做好提前准备，当真的出现异常的时候，可以有后续手段。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">print</span>(name)<br><span class="hljs-keyword">except</span> NameError <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;name变量名称未定义错误&#x27;</span>)<br></code></pre></td></tr></table></figure>



<p><strong>异常的finally</strong></p>
<p>finally表示的是无论是否异常都要执行的代码，例如关闭文件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    f= <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;test.txt&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>)<br><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>    f= <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;test.txt&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;没有异常，真开心&#x27;</span>)<br><span class="hljs-keyword">finally</span>:<br>    f.close()<br></code></pre></td></tr></table></figure>



<p><strong>异常的传递</strong></p>
<p>异常是具有传递性的</p>
<p>当函数<font color='red'>func01</font>中发生异常，并且没有捕获处理这个异常的时候，异常会传递到函数<font color='red'>func02</font>，当func02也没有捕获处理这个异常的时候main函数会捕获这个异常，这就是异常的传递性</p>
<p>提示：<font color='red'>当所有函数都没有捕获异常的时候，程序就会报错</font></p>
<h2 id="3-2-模块"><a href="#3-2-模块" class="headerlink" title="3.2 模块"></a>3.2 模块</h2><blockquote>
<p>什么是模块？</p>
<p>Python 模块(Module)，是一个Python 文件，以.py 结尾。模块能定义函数，类和变量，模块里也能包含可执行的代码</p>
<p><font color ='red'>模块的作用</font>：python中有很多各种不同的模块，每一个模块都可以帮助我们快速的实现一些功能，比如实现和时间相关的功能就可以使用time模块。我们可以认为一个模块就是一个工具包，每一个工具包中都有各种不同的工具供我们使用进而实现各种不同的功能。</p>
<p>大白话：模块就是一个Python文件，里面有类、函数、变量等，我们可以拿过来用(导入模块去使用)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 模块块在使用前需要先导入 导入的语法如下</span><br>[<span class="hljs-keyword">from</span> 模块名] <span class="hljs-keyword">import</span>[模块 | 类 | 变量 | 函数 |*][<span class="hljs-keyword">as</span> 别名]<br><span class="hljs-comment"># 常用的组合形式如:</span><br><span class="hljs-keyword">import</span> 模块名<br><span class="hljs-keyword">from</span> 模块名 <span class="hljs-keyword">import</span> 类、变量、方法等<br><span class="hljs-keyword">from</span> 模块名 <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">import</span> 块名 <span class="hljs-keyword">as</span>别名<br><span class="hljs-keyword">from</span> 模块名 <span class="hljs-keyword">import</span> 功能名 <span class="hljs-keyword">as</span> 别名<br></code></pre></td></tr></table></figure>





<p><strong>name__main变量使用</strong></p>
<p>if <strong><strong>name</strong></strong> &#x3D;&#x3D;“<strong><strong>main</strong></strong> ”表示，只有当程序是直接执行的才会进入if内部，如果是被导入的，则if无法进入</p>
<p>03_my_module_use.py </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> my_module<br><br><span class="hljs-built_in">print</span>(my_module.add(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>))<br></code></pre></td></tr></table></figure>



<p>my_module.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>):<br>    <span class="hljs-keyword">return</span> a + b<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-built_in">print</span>(add(<span class="hljs-number">7</span>, <span class="hljs-number">2</span>))<br></code></pre></td></tr></table></figure>





<h2 id="3-3-Python包"><a href="#3-3-Python包" class="headerlink" title="3.3 Python包"></a>3.3 Python包</h2><h3 id="3-3-1-自定义包"><a href="#3-3-1-自定义包" class="headerlink" title="3.3.1 自定义包"></a>3.3.1 自定义包</h3><p>创建包必须要有文件</p>
<p><img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213920954.png" srcset="/img/loading.gif" lazyload alt="QQ_1729496934323"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">演示python包</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><br><span class="hljs-comment"># 创建一个包</span><br><br><span class="hljs-comment"># 导入自定义包中的模块，并使用</span><br><span class="hljs-comment"># import my_package.my_module1</span><br><span class="hljs-comment"># import my_package.my_module2</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># my_package.my_module1.info_print1()</span><br><span class="hljs-comment"># my_package.my_module2.info_print2()</span><br><br><span class="hljs-comment"># from my_package import my_module1</span><br><span class="hljs-comment"># from my_package import my_module2</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># my_module1.info_print1()</span><br><span class="hljs-comment"># my_module2.info_print2()</span><br><br><span class="hljs-comment"># from my_package.my_module1 import info_print1</span><br><span class="hljs-comment"># from my_package.my_module2 import info_print2</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># info_print1()</span><br><span class="hljs-comment"># info_print2()</span><br><span class="hljs-comment"># 通过__all__变量，控制import</span><br><span class="hljs-keyword">from</span> my_package <span class="hljs-keyword">import</span> *<br><br>my_module1.info_print1()<br>my_module2.info_print2()<br></code></pre></td></tr></table></figure>







<h3 id="3-3-2-安装第三方包"><a href="#3-3-2-安装第三方包" class="headerlink" title="3.3.2 安装第三方包"></a>3.3.2 安装第三方包</h3><p>什么是第三方包？</p>
<p>我们知道，包可以包含一堆的Python模块，而每个模块又内含许多的功能。所以，我们可以认为：一个包，就是一堆同类型功能的集合体。在Python程序的生态中，有许多非常多的第三方包(非Pvthon官方)，可以极大的帮助我们提高开发效率，如：</p>
<ul>
<li>科学计算中常用的：numpy包</li>
<li>数据分析中常用的：pandas包</li>
<li>大数据计算中常用的：pyspark、apache-flink包</li>
<li>图形可视化常用的：matplotlib、pyecharts</li>
<li>人工智能常用的：tensorflow</li>
</ul>
<p>这些第三方包，极大的丰富了python的编程生态，提高了我们的开发效率</p>
<p>安装方法：</p>
<p>由于pip是连接的国外的网站进行包的下载，所以有的时候会速度很慢我们可以通过如下命令，让其连接国内的网站进行包的安装:</p>
<blockquote>
<p>pip install -i <a target="_blank" rel="noopener" href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a> 包名称</p>
<p>pip install 包名称</p>
</blockquote>
<h1 id="四-可视化"><a href="#四-可视化" class="headerlink" title="四 可视化"></a>四 可视化</h1><h2 id="4-1-基本介绍"><a href="#4-1-基本介绍" class="headerlink" title="4.1 基本介绍"></a>4.1 基本介绍</h2><h3 id="4-1-1-json数据格式"><a href="#4-1-1-json数据格式" class="headerlink" title="4.1.1 json数据格式"></a>4.1.1 json数据格式</h3><ol>
<li><p><strong>json</strong>：是一种轻量级的数据交互格式,采用完全独立于编程语言的文本格式来存储和表示数据(就是字符串)</p>
<p>Python语言使用ISON有很大优势，因为：JSON无非就是一个单独的字典或一个内部元素都是字典的列表，所以JSON可以直接和</p>
<p>Python的字典或列表进行无缝转换。</p>
</li>
<li><p><strong>json格式数据转化</strong></p>
<p>通过 json.dumps(data)方法把python数据转化为了 json数据</p>
<p>data&#x3D; json.dumps(data)</p>
<p>如果有中文可以带上:ensure ascii-False参数来确保中文正常转换通过json.loads(data)方法把josn数据转化为了python列表或字典</p>
</li>
</ol>
<h3 id="4-1-2-pyecharts模块介绍"><a href="#4-1-2-pyecharts模块介绍" class="headerlink" title="4.1.2 pyecharts模块介绍"></a>4.1.2 pyecharts模块介绍</h3><p>Echarts 是个由百度开源的数据可视化，凭借着良好的交互性，精巧的图表设计，得到了众多开发者的认可。而 Python 是门富有表达立的语言，很适合用于数据处理。当数据分析遇上数据可视化时pyecharts 诞生了</p>
<p>set _global opts方法（全局配置）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">line.set_global_opts(<br>    title_opts = Title0pts(<span class="hljs-string">&quot;测试&quot;</span>, pos_left = <span class="hljs-string">&quot;center&quot;</span>, pos_bottom = <span class="hljs-string">&quot;1%&quot;</span>),<br>    legend_opts = Legendopts(is_show = <span class="hljs-literal">True</span>),<br>    toolbox_opts = Toolbox0pts(is_show = <span class="hljs-literal">True</span>)<br>    visualmap_opts = VisualMapOpts(is_show = <span class="hljs-literal">True</span>)<br>    tooltip opts = Tooltipopts(is_show = <span class="hljs-literal">True</span>),<br>)<br></code></pre></td></tr></table></figure>



<h2 id="4-2-折线图可视化"><a href="#4-2-折线图可视化" class="headerlink" title="4.2 折线图可视化"></a>4.2 折线图可视化</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">演示可视化需求1:折线图开发</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">from</span> pyecharts.charts <span class="hljs-keyword">import</span> Line<br><span class="hljs-keyword">from</span> pyecharts.options <span class="hljs-keyword">import</span> *<br><br><span class="hljs-comment"># 处理数据</span><br>f_us = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;utils/美国.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>)<br>us_data = f_us.read()  <span class="hljs-comment"># 美国的全部数据</span><br><br>f_jp = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;utils/日本.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>)<br>jp_data = f_jp.read()  <span class="hljs-comment"># 日本的全部数据</span><br><br>f_in = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;utils/印度.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>)<br>in_data = f_in.read()  <span class="hljs-comment"># 印度的全部数据</span><br><br><span class="hljs-comment"># 去掉不合JSON规范的开头</span><br>us_data = us_data.replace(<span class="hljs-string">&quot;jsonp_1629344292311_69436(&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)<br>jp_data = jp_data.replace(<span class="hljs-string">&quot;jsonp_1629350871167_29498(&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)<br>in_data = in_data.replace(<span class="hljs-string">&quot;jsonp_1629350745930_63180(&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)<br><br><span class="hljs-comment"># 去掉不合JSON规范的结尾</span><br>us_data = us_data[:-<span class="hljs-number">2</span>]<br>jp_data = jp_data[:-<span class="hljs-number">2</span>]<br>in_data = in_data[:-<span class="hljs-number">2</span>]<br><br><span class="hljs-comment"># JSON转Python字典</span><br>us_dict = json.loads(us_data)<br>jp_dict= json.loads(jp_data)<br>in_dict = json.loads(in_data)<br><br><span class="hljs-comment"># 获取trend key</span><br>us_trend_data = us_dict[<span class="hljs-string">&#x27;data&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;trend&#x27;</span>]<br>jp_trend_data = jp_dict[<span class="hljs-string">&#x27;data&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;trend&#x27;</span>]<br>in_trend_data = in_dict[<span class="hljs-string">&#x27;data&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;trend&#x27;</span>]<br><br><span class="hljs-comment"># 获取日期数据，用于x轴，取2020年(到 314 下标结束)</span><br>us_x_data = us_trend_data[<span class="hljs-string">&#x27;updateDate&#x27;</span>][:<span class="hljs-number">314</span>]<br>jp_x_data = jp_trend_data[<span class="hljs-string">&#x27;updateDate&#x27;</span>][:<span class="hljs-number">314</span>]<br>in_x_data = in_trend_data[<span class="hljs-string">&#x27;updateDate&#x27;</span>][:<span class="hljs-number">314</span>]<br><br><span class="hljs-comment"># 获取确认数据，用于y轴，取2020年(到 314 下标结束)</span><br>us_y_data = us_trend_data[<span class="hljs-string">&#x27;list&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;data&#x27;</span>][:<span class="hljs-number">314</span>]<br>jp_y_data = jp_trend_data[<span class="hljs-string">&#x27;list&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;data&#x27;</span>][:<span class="hljs-number">314</span>]<br>in_y_data = in_trend_data[<span class="hljs-string">&#x27;list&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;data&#x27;</span>][:<span class="hljs-number">314</span>]<br><br><span class="hljs-comment"># 生成图表</span><br>line = Line()<br><br><span class="hljs-comment"># 添加x轴数据</span><br>line.add_xaxis(us_x_data)  <span class="hljs-comment"># x轴数据是公用的，使用一个国家即可</span><br><br><span class="hljs-comment"># 添加y轴数据</span><br>line.add_yaxis(<span class="hljs-string">&quot;美国确诊人数&quot;</span>, us_y_data, label_opts=LabelOpts(is_show=<span class="hljs-literal">False</span>))<br>line.add_yaxis(<span class="hljs-string">&quot;日本确诊人数&quot;</span>, jp_y_data, label_opts=LabelOpts(is_show=<span class="hljs-literal">False</span>))<br>line.add_yaxis(<span class="hljs-string">&quot;印度确诊人数&quot;</span>, in_y_data, label_opts=LabelOpts(is_show=<span class="hljs-literal">False</span>))<br><br><span class="hljs-comment"># 设置全局选项</span><br>line.set_global_opts(<br>    title_opts=TitleOpts(title=<span class="hljs-string">&quot;2020年美日印三国确诊人数对比折线图&quot;</span>, pos_left=<span class="hljs-string">&quot;center&quot;</span>, pos_bottom=<span class="hljs-string">&#x27;1%&#x27;</span>)<br>)<br><br><br><span class="hljs-comment"># 调用render方法生成图表</span><br>line.render(path=<span class="hljs-string">&quot;03_折线图.html&quot;</span>)<br><br><span class="hljs-comment"># 关闭文件对象</span><br>f_us.close()<br>f_jp.close()<br>f_in.close()<br></code></pre></td></tr></table></figure>



<h2 id="4-3-地图可视化"><a href="#4-3-地图可视化" class="headerlink" title="4.3 地图可视化"></a>4.3 地图可视化</h2><p>地图现在版本更新必须将其补全</p>
<h3 id="4-3-1-全国地图"><a href="#4-3-1-全国地图" class="headerlink" title="4.3.1 全国地图"></a>4.3.1 全国地图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：05_全国疫情可视化地图开发.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/23 19:45 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> json<br><br><span class="hljs-keyword">from</span> pyecharts.charts <span class="hljs-keyword">import</span> Map<br><span class="hljs-keyword">from</span> pyecharts.options <span class="hljs-keyword">import</span> TitleOpts, VisualMapOpts<br><br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> os<br><br><span class="hljs-comment"># 读取原始数据文件</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;疫情.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    data = json.load(f)<br><br>lastUpdateTime = data[<span class="hljs-string">&quot;lastUpdateTime&quot;</span>]<br>lastUpdateTime = <span class="hljs-built_in">str</span>(lastUpdateTime)<br>chinaTotal = data[<span class="hljs-string">&#x27;chinaTotal&#x27;</span>]<br>chinaAdd = data[<span class="hljs-string">&quot;chinaAdd&quot;</span>]<br>isShowAdd = data[<span class="hljs-string">&quot;isShowAdd&quot;</span>],<br><span class="hljs-built_in">print</span>(isShowAdd)<br>showAddSwitch = data[<span class="hljs-string">&quot;showAddSwitch&quot;</span>],<br><br><span class="hljs-comment"># 更改需要的数据</span><br>province_list = data[<span class="hljs-string">&quot;areaTree&quot;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&quot;children&quot;</span>]<br><br><span class="hljs-comment"># 遍历省份列表，对全称进行补全</span><br><span class="hljs-keyword">for</span> province <span class="hljs-keyword">in</span> province_list:<br>    <span class="hljs-comment"># 如果是几个直辖市后面直接写市</span><br>    <span class="hljs-keyword">if</span> province[<span class="hljs-string">&quot;name&quot;</span>] <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;北京&quot;</span>, <span class="hljs-string">&quot;上海&quot;</span>, <span class="hljs-string">&quot;天津&quot;</span>, <span class="hljs-string">&quot;重庆&quot;</span>]:<br>        province[<span class="hljs-string">&quot;name&quot;</span>] += <span class="hljs-string">&quot;市&quot;</span><br>    <span class="hljs-comment"># 如果是港澳台，后面直接写特别行政区</span><br>    <span class="hljs-keyword">elif</span> province[<span class="hljs-string">&quot;name&quot;</span>] <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;香港&quot;</span>, <span class="hljs-string">&quot;澳门&quot;</span>, ]:<br>        province[<span class="hljs-string">&quot;name&quot;</span>] += <span class="hljs-string">&quot;特别行政区&quot;</span><br>    <span class="hljs-keyword">elif</span> province[<span class="hljs-string">&quot;name&quot;</span>] <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;内蒙古&quot;</span>, <span class="hljs-string">&quot;西藏&quot;</span>]:<br>        province[<span class="hljs-string">&quot;name&quot;</span>] += <span class="hljs-string">&quot;自治区&quot;</span><br>    <span class="hljs-keyword">elif</span> province[<span class="hljs-string">&quot;name&quot;</span>] == <span class="hljs-string">&quot;广西&quot;</span>:<br>        province[<span class="hljs-string">&quot;name&quot;</span>] = <span class="hljs-string">&quot;广西壮族自治区&quot;</span><br>    <span class="hljs-keyword">elif</span> province[<span class="hljs-string">&quot;name&quot;</span>] == <span class="hljs-string">&quot;新疆&quot;</span>:<br>        province[<span class="hljs-string">&quot;name&quot;</span>] = <span class="hljs-string">&quot;新疆维吾尔自治区&quot;</span><br>    <span class="hljs-keyword">elif</span> province[<span class="hljs-string">&quot;name&quot;</span>] == <span class="hljs-string">&quot;宁夏&quot;</span>:<br>        province[<span class="hljs-string">&quot;name&quot;</span>] = <span class="hljs-string">&quot;宁夏回族自治区&quot;</span><br><br>    <span class="hljs-comment"># 其他省份后面直接写省</span><br>    <span class="hljs-keyword">else</span>:<br>        province[<span class="hljs-string">&quot;name&quot;</span>] += <span class="hljs-string">&quot;省&quot;</span><br><br><span class="hljs-comment"># 重新组织数据，生成新的 JSON 字符串</span><br>new_data = &#123;<br>    <span class="hljs-string">&quot;lastUpdateTime&quot;</span>: lastUpdateTime,<br>    <span class="hljs-string">&quot;chinaTotal&quot;</span>: chinaTotal,<br>    <span class="hljs-string">&quot;chinaAdd&quot;</span>: chinaAdd,<br>    <span class="hljs-string">&quot;isShowAdd&quot;</span>: isShowAdd,<br>    <span class="hljs-string">&quot;showAddSwitch&quot;</span>: showAddSwitch,<br>    <span class="hljs-string">&quot;areaTree&quot;</span>: [data[<span class="hljs-string">&quot;areaTree&quot;</span>][<span class="hljs-number">0</span>]]<br>&#125;<br>new_data[<span class="hljs-string">&quot;areaTree&quot;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&quot;children&quot;</span>] = province_list<br>new_data_str = json.dumps(new_data, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">4</span>)<br><br><span class="hljs-comment"># 写回文件</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;疫情.txt&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    f.write(new_data_str)<br></code></pre></td></tr></table></figure>



<p>完成前期准备工作之后：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：05_全国疫情可视化地图开发.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/23 19:45 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> json<br><br><span class="hljs-keyword">from</span> pyecharts.charts <span class="hljs-keyword">import</span> Map<br><span class="hljs-keyword">from</span> pyecharts.options <span class="hljs-keyword">import</span> TitleOpts, VisualMapOpts<br><br><span class="hljs-comment"># 读取数据文件</span><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;utils/疫情.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>)<br>data = f.read()<br><br><span class="hljs-comment"># 关闭文件</span><br>f.close()<br><span class="hljs-comment"># 取到各省数据,并转换为字典</span><br>data_dict = json.loads(data)<br>province_data_list = data_dict[<span class="hljs-string">&quot;areaTree&quot;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&quot;children&quot;</span>]<br><span class="hljs-comment"># 组装每个省份和确诊人数为元组，并各个省的数据都封装入列表内</span><br>data_list = []  <span class="hljs-comment"># 存放每个省份的数据</span><br><span class="hljs-keyword">for</span> province_data <span class="hljs-keyword">in</span> province_data_list:<br>    province_name = province_data[<span class="hljs-string">&quot;name&quot;</span>]<br>    province_confirm = province_data[<span class="hljs-string">&quot;total&quot;</span>][<span class="hljs-string">&quot;confirm&quot;</span>]<br>    data_list.append((province_name, province_confirm))<br><br><span class="hljs-built_in">print</span>(data_list)<br><span class="hljs-comment"># 创建地图对象</span><br><span class="hljs-built_in">map</span> = Map()<br><span class="hljs-comment"># 添加数据</span><br><span class="hljs-built_in">map</span>.add(<span class="hljs-string">&quot;各省份确诊人数&quot;</span>, data_list, <span class="hljs-string">&quot;china&quot;</span>)<br><span class="hljs-comment"># 设置全局配置，定制分段视觉映射</span><br><span class="hljs-built_in">map</span>.set_global_opts(<br>    TitleOpts(title=<span class="hljs-string">&quot;全国疫情可视化地图&quot;</span>),<br>    visualmap_opts=VisualMapOpts(<br>        is_show=<span class="hljs-literal">True</span>,<br>        is_piecewise=<span class="hljs-literal">True</span>,<br>        pieces=[<br>            &#123;<span class="hljs-string">&quot;min&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&quot;max&quot;</span>: <span class="hljs-number">99</span>, <span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;1-99人&quot;</span>, <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#CCFFFF&quot;</span>&#125;,<br>            &#123;<span class="hljs-string">&quot;min&quot;</span>: <span class="hljs-number">100</span>, <span class="hljs-string">&quot;max&quot;</span>: <span class="hljs-number">999</span>, <span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;100-999人&quot;</span>, <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#FFFF99&quot;</span>&#125;,<br>            &#123;<span class="hljs-string">&quot;min&quot;</span>: <span class="hljs-number">1000</span>, <span class="hljs-string">&quot;max&quot;</span>: <span class="hljs-number">4999</span>, <span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;1000-4999人&quot;</span>, <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#FF9966&quot;</span>&#125;,<br>            &#123;<span class="hljs-string">&quot;min&quot;</span>: <span class="hljs-number">5000</span>, <span class="hljs-string">&quot;max&quot;</span>: <span class="hljs-number">9999</span>, <span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;5000-9999人&quot;</span>, <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#FF6666&quot;</span>&#125;,<br>            &#123;<span class="hljs-string">&quot;min&quot;</span>: <span class="hljs-number">10000</span>, <span class="hljs-string">&quot;max&quot;</span>: <span class="hljs-number">99999</span>, <span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;10000-99999人&quot;</span>, <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#CC3333&quot;</span>&#125;,<br>            &#123;<span class="hljs-string">&quot;min&quot;</span>: <span class="hljs-number">100000</span>, <span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;10000人以上&quot;</span>, <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#990033&quot;</span>&#125;,<br>        ]<br>    )<br><br>)<br><span class="hljs-comment"># 绘图</span><br><span class="hljs-built_in">map</span>.render(<span class="hljs-string">&quot;05_全国疫情可视化地图.html&quot;</span>)<br></code></pre></td></tr></table></figure>



<h3 id="4-3-2-省级地图"><a href="#4-3-2-省级地图" class="headerlink" title="4.3.2 省级地图"></a>4.3.2 省级地图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：06_省级疫情可视化开发.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/25 15:38 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> json<br><br><span class="hljs-keyword">from</span> pyecharts.charts <span class="hljs-keyword">import</span> Map<br><span class="hljs-keyword">from</span> pyecharts.options <span class="hljs-keyword">import</span> *<br><br><span class="hljs-comment"># 读取文件</span><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;../utils/疫情.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>)<br>data = f.read()<br><span class="hljs-comment"># 关闭文件</span><br>f.close()<br><span class="hljs-comment"># 获取河南省数据</span><br>data_dict = json.loads(data)<br>cities_data = data_dict[<span class="hljs-string">&quot;areaTree&quot;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&quot;children&quot;</span>][<span class="hljs-number">1</span>][<span class="hljs-string">&quot;children&quot;</span>]<br><br>data_list = []<br><span class="hljs-comment"># 准备数据为元组并放入list</span><br><span class="hljs-keyword">for</span> city_data <span class="hljs-keyword">in</span> cities_data:<br>    city_name = city_data[<span class="hljs-string">&quot;name&quot;</span>] + <span class="hljs-string">&quot;市&quot;</span><br>    city_confirm = city_data[<span class="hljs-string">&quot;total&quot;</span>][<span class="hljs-string">&quot;confirm&quot;</span>]<br>    data_list.append((city_name, city_confirm))<br><br><span class="hljs-comment"># 构建地图</span><br><span class="hljs-built_in">map</span> = Map()<br><span class="hljs-built_in">map</span>.add(<span class="hljs-string">&quot;江苏省疫情分布&quot;</span>, data_list, <span class="hljs-string">&quot;江苏&quot;</span>).set_global_opts(<br>    TitleOpts(title=<span class="hljs-string">&quot;全国疫情可视化地图&quot;</span>),<br>    visualmap_opts=VisualMapOpts(<br>        is_show=<span class="hljs-literal">True</span>,<br>        is_piecewise=<span class="hljs-literal">True</span>,<br>        pieces=[<br>            &#123;<span class="hljs-string">&quot;min&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&quot;max&quot;</span>: <span class="hljs-number">9</span>, <span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;1-9人&quot;</span>, <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#CCFFFF&quot;</span>&#125;,<br>            &#123;<span class="hljs-string">&quot;min&quot;</span>: <span class="hljs-number">10</span>, <span class="hljs-string">&quot;max&quot;</span>: <span class="hljs-number">99</span>, <span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;10-99人&quot;</span>, <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#FFFF99&quot;</span>&#125;,<br>            &#123;<span class="hljs-string">&quot;min&quot;</span>: <span class="hljs-number">100</span>, <span class="hljs-string">&quot;max&quot;</span>: <span class="hljs-number">199</span>, <span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;100-199人&quot;</span>, <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#FF9966&quot;</span>&#125;,<br>            &#123;<span class="hljs-string">&quot;min&quot;</span>: <span class="hljs-number">200</span>, <span class="hljs-string">&quot;max&quot;</span>: <span class="hljs-number">299</span>, <span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;200-299人&quot;</span>, <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#FF6666&quot;</span>&#125;,<br>            &#123;<span class="hljs-string">&quot;min&quot;</span>: <span class="hljs-number">300</span>, <span class="hljs-string">&quot;max&quot;</span>: <span class="hljs-number">399</span>, <span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;300-399人&quot;</span>, <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#CC3333&quot;</span>&#125;,<br>            &#123;<span class="hljs-string">&quot;min&quot;</span>: <span class="hljs-number">400</span>, <span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;400人以上&quot;</span>, <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#990033&quot;</span>&#125;,<br>        ]<br>    )<br>)<br><br><span class="hljs-comment"># 绘图</span><br><span class="hljs-built_in">map</span>.render(<span class="hljs-string">&quot;06_省级疫情可视化开发.html&quot;</span>)<br><br></code></pre></td></tr></table></figure>



<h2 id="4-4-柱状图"><a href="#4-4-柱状图" class="headerlink" title="4.4 柱状图"></a>4.4 柱状图</h2><h3 id="4-4-1-基础柱状图"><a href="#4-4-1-基础柱状图" class="headerlink" title="4.4.1 基础柱状图"></a>4.4.1 基础柱状图</h3><p>设置步骤：</p>
<ol>
<li>通过Bar()构建一个柱状图对象</li>
<li>和折线图一样，通过add_xaxis()和add_yaxis()添加x和y轴数据</li>
<li>通过柱状图对象的：reversal_axis()，反转x和y轴</li>
<li>通过label_opts&#x3D;LabelOpts(position&#x3D;”right”)设置数值标签在右侧显示</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：07_基础柱状图开发.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/25 16:57 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-keyword">from</span> pyecharts.charts <span class="hljs-keyword">import</span> Bar<br><span class="hljs-keyword">from</span> pyecharts.options <span class="hljs-keyword">import</span> *<br><br><span class="hljs-comment"># 使用Bar构建基础柱状图</span><br>bar = Bar()<br><br><span class="hljs-comment"># 添加X轴</span><br>bar.add_xaxis([<span class="hljs-string">&quot;英国&quot;</span>, <span class="hljs-string">&quot;美国&quot;</span>, <span class="hljs-string">&quot;中国&quot;</span>])<br><br><span class="hljs-comment"># 添加Y轴</span><br>bar.add_yaxis(<span class="hljs-string">&quot;GDP&quot;</span>, [<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>], label_opts=LabelOpts(position=<span class="hljs-string">&quot;right&quot;</span>), color=<span class="hljs-string">&quot;#990033&quot;</span>)<br><br><span class="hljs-comment"># 反转X和Y轴</span><br>bar.reversal_axis()<br><br><span class="hljs-comment"># 绘图</span><br>bar.render(<span class="hljs-string">&quot;07_基础柱状图.html&quot;</span>)<br><br></code></pre></td></tr></table></figure>



<h3 id="4-4-2-基础时间柱状图"><a href="#4-4-2-基础时间柱状图" class="headerlink" title="4.4.2 基础时间柱状图"></a>4.4.2 基础时间柱状图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：08_基础时间线柱状图开发.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/25 17:45 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-keyword">from</span> pyecharts.charts <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> pyecharts.options <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> pyecharts.<span class="hljs-built_in">globals</span> <span class="hljs-keyword">import</span> *<br><br>bar1 = Bar()<br>bar1.add_xaxis([<span class="hljs-string">&quot;英国&quot;</span>, <span class="hljs-string">&quot;美国&quot;</span>, <span class="hljs-string">&quot;中国&quot;</span>])<br>bar1.add_yaxis(<span class="hljs-string">&quot;GDP&quot;</span>, [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">80</span>], label_opts=LabelOpts(position=<span class="hljs-string">&quot;right&quot;</span>))<br>bar1.reversal_axis()<br><br>bar2 = Bar()<br>bar2.add_xaxis([<span class="hljs-string">&quot;英国&quot;</span>, <span class="hljs-string">&quot;美国&quot;</span>, <span class="hljs-string">&quot;中国&quot;</span>])<br>bar2.add_yaxis(<span class="hljs-string">&quot;GDP&quot;</span>, [<span class="hljs-number">40</span>, <span class="hljs-number">50</span>, <span class="hljs-number">90</span>], label_opts=LabelOpts(position=<span class="hljs-string">&quot;right&quot;</span>))<br>bar2.reversal_axis()<br><br>bar3 = Bar()<br>bar3.add_xaxis([<span class="hljs-string">&quot;英国&quot;</span>, <span class="hljs-string">&quot;美国&quot;</span>, <span class="hljs-string">&quot;中国&quot;</span>])<br>bar3.add_yaxis(<span class="hljs-string">&quot;GDP&quot;</span>, [<span class="hljs-number">70</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>], label_opts=LabelOpts(position=<span class="hljs-string">&quot;right&quot;</span>))<br>bar3.reversal_axis()<br><br><span class="hljs-comment"># 构建时间线对象</span><br>timeline = Timeline(<br>    <span class="hljs-comment"># 设置主题</span><br>    &#123;<span class="hljs-string">&quot;theme&quot;</span>: ThemeType.LIGHT&#125;<br>)<br><br><span class="hljs-comment"># 在时间线内添加柱状图</span><br>timeline.add(bar1, <span class="hljs-string">&quot;2017年&quot;</span>)<br>timeline.add(bar2, <span class="hljs-string">&quot;2018年&quot;</span>)<br>timeline.add(bar3, <span class="hljs-string">&quot;2019年&quot;</span>)<br><span class="hljs-comment"># 自动播放设置</span><br>timeline.add_schema(<br>    is_auto_play=<span class="hljs-literal">True</span>,<br>    play_interval=<span class="hljs-number">1000</span>,<br>    is_loop_play=<span class="hljs-literal">True</span>,<br>    is_timeline_show=<span class="hljs-literal">True</span><br>)<br><span class="hljs-comment"># 时间线播放间隔</span><br><span class="hljs-comment"># 主题设置</span><br><br><span class="hljs-comment"># 绘图</span><br>timeline.render(<span class="hljs-string">&quot;08_基础时间线柱状图.html&quot;</span>)<br></code></pre></td></tr></table></figure>



<h3 id="4-4-3-动态图绘制"><a href="#4-4-3-动态图绘制" class="headerlink" title="4.4.3 动态图绘制"></a>4.4.3 动态图绘制</h3><p>列表的sort方法</p>
<p>使用方式:</p>
<blockquote>
<p>列表.sort(key&#x3D;选择排序依据的函数,reverse&#x3D;TruelFalse)</p>
<p>参数key，是要求传入一个函数，表示将列表的每一个元素都传入函数中，返回排序的依据</p>
<p>参数reverse，是否反转排序结果，True表示降序，False表示升序</p>
</blockquote>
<p>python版本3.7之后字典就开始排序了</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：10_GDP动态柱状图开发.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/25 18:25 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> pyecharts.charts <span class="hljs-keyword">import</span> Bar, Timeline<br><span class="hljs-keyword">from</span> pyecharts.options <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> pyecharts.<span class="hljs-built_in">globals</span> <span class="hljs-keyword">import</span> ThemeType<br><br><span class="hljs-comment"># 读取数据</span><br>f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;../utils/1960-2019全球GDP数据.csv&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, encoding=<span class="hljs-string">&quot;GB2312&quot;</span>)<br>data_lines = f.readlines()<br><br><span class="hljs-comment"># 关闭文件</span><br>f.close()<br><span class="hljs-comment"># 删除第一条数据</span><br>data_lines.pop(<span class="hljs-number">0</span>)<br><br><span class="hljs-comment"># 将数据转换为字典存储，格式为:</span><br><span class="hljs-comment"># &#123;年份:[[国家，gdp]，[国家,gdp]，......]，年份:[[国家，gdp]，[国家,gdp],...... ]，......&#125;</span><br>data_dict = &#123;&#125;<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> data_lines:<br>    year = <span class="hljs-built_in">int</span>(line.split(<span class="hljs-string">&quot;,&quot;</span>)[<span class="hljs-number">0</span>])<br>    country = line.split(<span class="hljs-string">&quot;,&quot;</span>)[<span class="hljs-number">1</span>]<br>    GDP = <span class="hljs-built_in">float</span>(line.split(<span class="hljs-string">&quot;,&quot;</span>)[<span class="hljs-number">2</span>])<br><br>    <span class="hljs-comment"># 如何判断字典里面有没有指定的key讷？</span><br>    <span class="hljs-keyword">try</span>:<br>        data_dict[year].append([country, GDP])<br>    <span class="hljs-keyword">except</span> KeyError:<br>        data_dict[year] = []<br>        data_dict[year].append([country, GDP])<br><br><span class="hljs-comment"># 创建时间线对象</span><br>timeline = Timeline(&#123;<span class="hljs-string">&quot;theme&quot;</span>: ThemeType.LIGHT&#125;)<br><br><span class="hljs-comment"># for循环每一年的数据，基于每一年的数据，创建每一年的bar对象</span><br><span class="hljs-keyword">for</span> year <span class="hljs-keyword">in</span> data_dict.keys():<br>    data_dict[year].sort(key=<span class="hljs-keyword">lambda</span> element: element[<span class="hljs-number">1</span>], reverse=<span class="hljs-literal">True</span>)<br>    <span class="hljs-comment"># 将每一年的数据按照gdp从大到小排序,取出前八</span><br>    data_year = data_dict[year][<span class="hljs-number">0</span>:<span class="hljs-number">8</span>]<br><br>    x_data = []<br>    y_data = []<br><br>    <span class="hljs-keyword">for</span> element <span class="hljs-keyword">in</span> data_year:<br>        x_data.append(element[<span class="hljs-number">0</span>])<br>        y_data.append(element[<span class="hljs-number">1</span>] / <span class="hljs-number">1000000000</span>)<br><br>    <span class="hljs-comment"># 创建bar对象</span><br>    bar = Bar()<br>    x_data.reverse()<br>    y_data.reverse()<br><br>    bar.add_xaxis(x_data)<br>    bar.add_yaxis(<span class="hljs-string">&quot;GDP(亿)&quot;</span>, y_data, label_opts=LabelOpts(position=<span class="hljs-string">&quot;right&quot;</span>))<br><br>    <span class="hljs-comment"># 反转x和y轴</span><br>    bar.reversal_axis()<br><br>    <span class="hljs-comment"># 设置标题</span><br>    bar.set_global_opts(<br>        title_opts=TitleOpts(title=<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;year&#125;</span>年全球前8国家GDP数据&quot;</span>)<br>    )<br><br>    <span class="hljs-comment"># 在for中，将每一年的bar对象添加到时间线中</span><br>    timeline.add(bar, <span class="hljs-built_in">str</span>(year))<br><br><span class="hljs-comment"># 设置时间线自动播放</span><br>timeline.add_schema(<br>    play_interval=<span class="hljs-number">1000</span>,<br>    is_auto_play=<span class="hljs-literal">True</span>,<br>    is_loop_play=<span class="hljs-literal">True</span>,<br>    is_timeline_show=<span class="hljs-literal">True</span><br>)<br><span class="hljs-comment"># 绘图</span><br>timeline.render(<span class="hljs-string">&quot;10_1960-2019全球GDP前8国家.html&quot;</span>)<br><br></code></pre></td></tr></table></figure>



<h1 id="五-面向对象"><a href="#五-面向对象" class="headerlink" title="五 面向对象"></a>五 面向对象</h1><h2 id="5-1-基本概念"><a href="#5-1-基本概念" class="headerlink" title="5.1 基本概念"></a>5.1 基本概念</h2><h3 id="5-1-1-成员变量"><a href="#5-1-1-成员变量" class="headerlink" title="5.1.1 成员变量"></a>5.1.1 成员变量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">student</span>:<br>    <span class="hljs-comment">#学生的姓名</span><br>    name = <span class="hljs-literal">None</span><br>    <span class="hljs-comment"># 学生的年龄</span><br>    age = <span class="hljs-literal">None</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">say_hi</span>(<span class="hljs-params">self, msg</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Hi大家好，我是<span class="hljs-subst">&#123;self.name&#125;</span>，<span class="hljs-subst">&#123;msg&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure>



<h3 id="5-1-2-类、对象和构造方法"><a href="#5-1-2-类、对象和构造方法" class="headerlink" title="5.1.2 类、对象和构造方法"></a>5.1.2 类、对象和构造方法</h3><p>类、对象：</p>
<p>1.现实世界的事物由什么组成? </p>
<ul>
<li>属性</li>
<li>行为</li>
</ul>
<p>类也可以包含属性和行为，所以使用类描述现实世界事物是非常合适的</p>
<p>构造方法：</p>
<p>Python类可以使用: –init–()方法，称之为构造方法。</p>
<p>可以实现：</p>
<ul>
<li>在创建类对象(构造类)的时候，会自动执行</li>
<li>在创建类对象(构造类)的时候，将传入参数自动传递给 init 方法使用。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:<br>    name = <span class="hljs-literal">None</span><br>    age = <span class="hljs-literal">None</span><br>    tel = <span class="hljs-literal">None</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, age, tel</span>):<br>        <span class="hljs-variable language_">self</span>.name = name<br>        <span class="hljs-variable language_">self</span>.age = age<br>        <span class="hljs-variable language_">self</span>.tel =tel<br></code></pre></td></tr></table></figure>



<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213937928.png" srcset="/img/loading.gif" lazyload alt="QQ_1729862268576" style="zoom: 33%;" />

<p>例题：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：创建类对象.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/25 20:30 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, age, address</span>):<br>        <span class="hljs-variable language_">self</span>.name = name<br>        <span class="hljs-variable language_">self</span>.age = age<br>        <span class="hljs-variable language_">self</span>.address = address<br><br><br><span class="hljs-comment"># 通过for循环，配合input输入语句，并使用构造方法，完成学生信息的键盘录入</span><br>students = []<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;当前录入第<span class="hljs-subst">&#123;i + <span class="hljs-number">1</span>&#125;</span>位学生，总共需要录入3位&quot;</span>)<br>    <span class="hljs-comment"># 输入学生姓名</span><br>    name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入学生姓名：&quot;</span>)<br>    <span class="hljs-comment"># 输入学生年龄</span><br>    age = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入学生年龄：&quot;</span>)<br>    <span class="hljs-comment"># 输入学生成绩</span><br>    address = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入学生地址：&quot;</span>)<br><br>    <span class="hljs-comment"># 创建学生对象</span><br>    student = Student(name, age, address)<br>    students.append(student)<br><br>    <span class="hljs-comment"># 打印学生信息</span><br>    <span class="hljs-built_in">print</span>(<br>        &#123;<span class="hljs-string">f&quot;学生<span class="hljs-subst">&#123;i + <span class="hljs-number">1</span>&#125;</span>信息的信息录入完成，学生的信息为:【姓名:<span class="hljs-subst">&#123;student.name&#125;</span>，年龄:<span class="hljs-subst">&#123;student.age&#125;</span>，地址:<span class="hljs-subst">&#123;student.address&#125;</span>】&quot;</span>&#125;)<br><br></code></pre></td></tr></table></figure>



<h3 id="5-1-3-内置方法"><a href="#5-1-3-内置方法" class="headerlink" title="5.1.3 内置方法"></a>5.1.3 内置方法</h3><p>魔术方法：</p>
<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213940349.png" srcset="/img/loading.gif" lazyload alt="QQ_1729862337478" style="zoom: 50%;" />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：02_内置方法.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/25 21:21 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> traceback <span class="hljs-keyword">import</span> print_tb<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, age</span>):<br>        <span class="hljs-variable language_">self</span>.name = name<br>        <span class="hljs-variable language_">self</span>.age = age<br><br>    <span class="hljs-comment"># __str__魔术方法</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;Student类对象，name:<span class="hljs-subst">&#123;self.name&#125;</span>，age:<span class="hljs-subst">&#123;self.age&#125;</span>&quot;</span><br><br>    <span class="hljs-comment"># __lt__魔术方法</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__lt__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.age &lt; other.age<br><br>    <span class="hljs-comment"># __le__魔术方法</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__le__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.age &lt;= other.age<br><br>    <span class="hljs-comment"># __eq__魔术方法</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.age == other.age<br><br><br>student1 = Student(<span class="hljs-string">&quot;周杰伦&quot;</span>, <span class="hljs-number">30</span>)<br>student2 = Student(<span class="hljs-string">&quot;邓紫棋&quot;</span>, <span class="hljs-number">20</span>)<br><br><span class="hljs-comment"># __str__魔术方法</span><br><span class="hljs-built_in">print</span>(student1)<br><br><span class="hljs-comment"># __lt__魔术方法</span><br><span class="hljs-built_in">print</span>(student1 &lt; student2)<br><br><span class="hljs-comment"># __le__魔术方法</span><br>student3 = Student(<span class="hljs-string">&quot;周杰伦&quot;</span>, <span class="hljs-number">30</span>)<br>student4 = Student(<span class="hljs-string">&quot;邓紫棋&quot;</span>, <span class="hljs-number">33</span>)<br><br><span class="hljs-built_in">print</span>(student3 &lt;= student4)<br><br><span class="hljs-comment"># __eq__魔术方法</span><br>student5 = Student(<span class="hljs-string">&quot;周杰伦&quot;</span>, <span class="hljs-number">30</span>)<br>student6 = Student(<span class="hljs-string">&quot;邓紫棋&quot;</span>, <span class="hljs-number">30</span>)<br><span class="hljs-built_in">print</span>(student5 == student6)<br></code></pre></td></tr></table></figure>



<h2 id="5-2-封装"><a href="#5-2-封装" class="headerlink" title="5.2 封装"></a>5.2 封装</h2><p>私有成员</p>
<p>类中提供了私有成员的形式来支持：私有成员变量；私有成员方法</p>
<p>定义私有成员的方式非常简单，只需要:</p>
<ul>
<li>私有成员变量：变量名以__开头(2个下划线)</li>
<li>私有成员方法：方法名以__开头(2个下划线)</li>
</ul>
<p>即可完成私有成员的设置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：03_封装课后练习题.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/28 09:32 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-comment"># 设计一个类，用来描述手机</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Phone</span>:<br>    <span class="hljs-comment"># 提供私有成员变量</span><br>    __is_5g_enable = <span class="hljs-literal">True</span><br>    <span class="hljs-comment"># 提供私有成员方法</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__check_5g</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.__is_5g_enable:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;5g is enable&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;5g is disable&quot;</span>)<br><br><span class="hljs-comment"># 提供公开的成员方法</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">check_5g</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>.__check_5g()<br><br>phone = Phone()<br>phone.check_5g()<br><br></code></pre></td></tr></table></figure>



<h2 id="5-3-继承"><a href="#5-3-继承" class="headerlink" title="5.3 继承"></a>5.3 继承</h2><h3 id="5-3-1-单继承和多继承"><a href="#5-3-1-单继承和多继承" class="headerlink" title="5.3.1 单继承和多继承"></a>5.3.1 单继承和多继承</h3><ul>
<li>单继承：一个类继承另一个类</li>
<li>多继承：一个类继承多个类，按照顺序从左向右依次继承</li>
</ul>
<p>多继承中，如果父类有同名方法或属性，先继承的优先级高于后继承</p>
<p>pass关键字的作用是什么：</p>
<blockquote>
<p>pass是占位语句，用来保证函数(方法)或类定义的完整性，表示无内容，空的意思</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：04_继承.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/28 10:01 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> symtable <span class="hljs-keyword">import</span> Class<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Phone</span>:<br>    IMEI = <span class="hljs-literal">None</span><br>    producer = <span class="hljs-string">&quot;IT_CAST&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">call_by_5g</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;5g通话已开启&quot;</span>)<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">NFCReader</span>:<br>    nfc_type = <span class="hljs-string">&quot;第五代&quot;</span><br>    producer = <span class="hljs-string">&quot;HM&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_card</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;NFC读卡器已开启&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrire_card</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;NFC写卡器已开启&quot;</span>)<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">RedRemoteControl</span>:<br>    rc_type = <span class="hljs-string">&quot;红外遥控&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">control</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;红外遥控器已开启&quot;</span>)<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyPhone</span>(Phone, NFCReader, RedRemoteControl):<br>    <span class="hljs-keyword">pass</span><br><br>phone = MyPhone()<br>phone.call_by_5g()<br>phone.read_card()<br>phone.wrire_card()<br>phone.control()<br><span class="hljs-built_in">print</span>(phone.producer)<br><br></code></pre></td></tr></table></figure>



<h3 id="5-3-2-复写和父类成员"><a href="#5-3-2-复写和父类成员" class="headerlink" title="5.3.2 复写和父类成员"></a>5.3.2 复写和父类成员</h3><p>**复写：**子类继承父类的成员属性和成员方法后，如果对其“不满意”，那么可以进行复写。即：在子类中重新定义同名的属性或方法即可</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：04_继承_复写.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/29 18:40 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Phone</span>:<br>    IMEI = <span class="hljs-literal">None</span><br>    producer = <span class="hljs-string">&quot;IT_CAST&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">call_by_5g</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;5g通话已开启&quot;</span>)<br><br><span class="hljs-comment"># 定义子类，复写父类方法</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyPhone</span>(<span class="hljs-title class_ inherited__">Phone</span>):<br>    IMEI = <span class="hljs-string">&quot;123456789012345&quot;</span><br>    producer = <span class="hljs-string">&quot;Made in China&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">call_by_5g</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;5g通话已开启，请拨打110&quot;</span>)<br><br><br>myPhone = MyPhone()<br><span class="hljs-built_in">print</span>(myPhone.IMEI)<br><span class="hljs-built_in">print</span>(myPhone.producer)<br>myPhone.call_by_5g()<br><br></code></pre></td></tr></table></figure>



<p>调用父类成员：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：04_继承_复写.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/29 18:40 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Phone</span>:<br>    IMEI = <span class="hljs-literal">None</span><br>    producer = <span class="hljs-string">&quot;IT_CAST&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">call_by_5g</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;5g通话已开启&quot;</span>)<br><br><span class="hljs-comment"># 定义子类，复写父类方法</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyPhone</span>(<span class="hljs-title class_ inherited__">Phone</span>):<br>    IMEI = <span class="hljs-string">&quot;123456789012345&quot;</span><br>    producer = <span class="hljs-string">&quot;Made in China&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">call_by_5g</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;开启单核模式，确保通话的时候省电&quot;</span>)<br>        <span class="hljs-comment"># 调用父类方法方式一</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;父类的厂商是：<span class="hljs-subst">&#123;Phone.producer&#125;</span>&quot;</span>)<br>        Phone.call_by_5g(<span class="hljs-variable language_">self</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;----------------------&quot;</span>)<br><br>        <span class="hljs-comment"># 调用父类方法方式二</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;父类的厂商是：<span class="hljs-subst">&#123;<span class="hljs-built_in">super</span>().producer&#125;</span>&quot;</span>)<br>        <span class="hljs-built_in">super</span>().call_by_5g()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;关闭单核模式，确保通话的时候省电&quot;</span>)<br><br><br>myPhone = MyPhone()<br><span class="hljs-built_in">print</span>(myPhone.IMEI)<br><span class="hljs-built_in">print</span>(myPhone.producer)<br>myPhone.call_by_5g()<br></code></pre></td></tr></table></figure>



<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213947085.png" srcset="/img/loading.gif" lazyload alt="image-20241029192021650" style="zoom: 50%;" />



<h2 id="5-4-注解"><a href="#5-4-注解" class="headerlink" title="5.4 注解"></a>5.4 注解</h2><h3 id="5-4-1-类型注解"><a href="#5-4-1-类型注解" class="headerlink" title="5.4.1 类型注解"></a>5.4.1 类型注解</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：05_类型注解.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/29 19:37 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> random<br><br><span class="hljs-comment"># 基础数据类型注解</span><br>var_1: <span class="hljs-built_in">int</span> = <span class="hljs-number">10</span><br>var_2: <span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;hello&quot;</span><br>var_3: <span class="hljs-built_in">float</span> = <span class="hljs-number">10.0</span><br>var_4: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span><br><br><br><span class="hljs-comment"># 类对象类型注解</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:<br>    <span class="hljs-keyword">pass</span><br><br><br>stu: Student = Student()<br><span class="hljs-comment"># 基础容器类型注解</span><br>My_list: <span class="hljs-built_in">list</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>my_tuple: <span class="hljs-built_in">tuple</span> = (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br>my_dict: <span class="hljs-built_in">dict</span> = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;alaskaboo&quot;</span>&#125;<br>my_set: <span class="hljs-built_in">set</span> = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;<br><span class="hljs-comment"># 容器类型注解即详细注解</span><br>my_list: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">int</span>] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>My_tuple: <span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">int</span>, <span class="hljs-built_in">str</span>, <span class="hljs-built_in">bool</span>] = (<span class="hljs-number">1</span>, <span class="hljs-string">&quot;heima&quot;</span>, <span class="hljs-literal">True</span>)<br>My_dict: <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">int</span>] = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-number">10</span>&#125;<br><br><span class="hljs-comment"># 在注释中进行类型注解</span><br>var_1 = random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)  <span class="hljs-comment"># type: <span class="hljs-built_in">int</span></span><br>var_2 = json.loads(<span class="hljs-string">&#x27;&#123;&quot;name&quot;: &quot;alaskaboo&quot;&#125;&#x27;</span>)  <span class="hljs-comment"># type: <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">str</span>]</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>():<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">10</span><br><br>var_3 = func()  <span class="hljs-comment"># type: <span class="hljs-built_in">int</span></span><br></code></pre></td></tr></table></figure>



<p>类型注解主要功能在于:</p>
<p>帮助第三方IDE工具(如PyCharm)对代码导入类型推送，协助做代码提示</p>
<p>帮助开发者自身对变量进行类型注释（备注 ）</p>
<h3 id="5-4-2-形参注解"><a href="#5-4-2-形参注解" class="headerlink" title="5.4.2 形参注解"></a>5.4.2 形参注解</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">函数方法名</span>(<span class="hljs-params">形参名:类型, 形参名:类型</span>):<br>    <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">x:<span class="hljs-built_in">int</span>, y:<span class="hljs-built_in">int</span></span>):<br>    <span class="hljs-keyword">return</span> x + y<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">data: <span class="hljs-built_in">list</span></span>):<br>    <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure>



<h3 id="5-4-3-Union类型"><a href="#5-4-3-Union类型" class="headerlink" title="5.4.3 Union类型"></a>5.4.3 Union类型</h3><p>Union联合类型注解，在变量注解、函数(方法)形参和返回值注解中，均可使用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Union</span><br><br>my_list: <span class="hljs-built_in">list</span>[<span class="hljs-type">Union</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">int</span>]] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-string">&quot;heima&quot;</span>, <span class="hljs-string">&quot;python&quot;</span>]<br>my_dict: <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Union</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">int</span>]] = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;alaska&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">10</span>&#125;<br><br><br><span class="hljs-comment"># -&gt; Union[int, str]是返回值</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">data: <span class="hljs-type">Union</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">Union</span>[<span class="hljs-built_in">int</span>, <span class="hljs-built_in">str</span>]:<br>    <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure>



<h2 id="5-5-多态"><a href="#5-5-多态" class="headerlink" title="5.5 多态"></a>5.5 多态</h2><p>概念：多种状态，即完成某个行为时，使用不同的对象会得到不同的状态</p>
<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213951212.png" srcset="/img/loading.gif" lazyload alt="image-20241029201529213" style="zoom:50%;" />



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：06_多态.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/29 20:16 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">speak</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-title class_ inherited__">Animal</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">speak</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;wang wang&quot;</span>)<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-title class_ inherited__">Animal</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">speak</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;miao miao&quot;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">make_noise</span>(<span class="hljs-params">animal: Animal</span>):<br>    animal.speak()<br><br>dog = Dog()<br>cat = Cat()<br>make_noise(dog)<br>make_noise(cat) <br></code></pre></td></tr></table></figure>

<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625213957457.png" srcset="/img/loading.gif" lazyload alt="image-20241029201945720" style="zoom:50%;" />



<p>空调例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 演示抽象类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AC</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">cool_wind</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;制冷&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">pass</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hot_wind</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;制热&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">pass</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">swing_l_r</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;左右摆风&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Midea_AC</span>(<span class="hljs-title class_ inherited__">AC</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">cool_wind</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;制冷&quot;&quot;&quot;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;midea cool&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hot_wind</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;制热&quot;&quot;&quot;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;midea hot&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">swing_l_r</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;左右摆风&quot;&quot;&quot;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;midea swing&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">GREE_AC</span>(<span class="hljs-title class_ inherited__">AC</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">cool_wind</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;制冷&quot;&quot;&quot;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;gree cool&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hot_wind</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;制热&quot;&quot;&quot;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;gree hot&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">swing_l_r</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;左右摆风&quot;&quot;&quot;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;gree swing&quot;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">make_coll</span>(<span class="hljs-params">ac: AC</span>):<br>    ac.cool_wind()<br><br>Midea_AC = Midea_AC()<br>GREE_AC = GREE_AC()<br>make_coll(Midea_AC)<br>make_coll(GREE_AC)<br></code></pre></td></tr></table></figure>



<h2 id="综合案例"><a href="#综合案例" class="headerlink" title="综合案例"></a>综合案例</h2><img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214000200.png" srcset="/img/loading.gif" lazyload alt="image-20241029203309792" style="zoom:50%;" />



<p>data_define.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：定义数据类型</span><br><span class="hljs-string">@File    ：data_define.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/29 20:36 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Record</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, date, order_id, money, province</span>):<br>        <span class="hljs-comment"># 订单日期</span><br>        <span class="hljs-variable language_">self</span>.date = date<br>        <span class="hljs-comment"># 订单ID</span><br>        <span class="hljs-variable language_">self</span>.order_id = order_id<br>        <span class="hljs-comment"># 订单金额</span><br>        <span class="hljs-variable language_">self</span>.money = money<br>        <span class="hljs-comment"># 销售省份</span><br>        <span class="hljs-variable language_">self</span>.province = province<br><br><br>    <span class="hljs-comment"># 将内存地址输出为对应的字符串</span><br>    <span class="hljs-keyword">def</span>  <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.date&#125;</span>, <span class="hljs-subst">&#123;self.order_id&#125;</span>, <span class="hljs-subst">&#123;self.money&#125;</span>, <span class="hljs-subst">&#123;self.province&#125;</span>&quot;</span><br><br></code></pre></td></tr></table></figure>



<p>file_define.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：和文件相关的类定义</span><br><span class="hljs-string">@File    ：file_define.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/29 20:42 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> json<br><br><span class="hljs-keyword">from</span> data_define <span class="hljs-keyword">import</span> Record<br><br><br><span class="hljs-comment"># 先定义一个抽象类用来做顶层设计，确定有那些功能需要实现</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FileReader</span>:<br><br>    <span class="hljs-comment"># 抽象方法，需要子类实现</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_data</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">list</span>[Record]:<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        读取文件数据，将数据转换为Record对象，并将其list封装返回</span><br><span class="hljs-string">        :return:</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-comment"># 定义一个具体的子类，实现抽象类的抽象方法</span><br><span class="hljs-comment"># 这个子类是用来读取文本文件的</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TextFileReader</span>(<span class="hljs-title class_ inherited__">FileReader</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, file_path</span>):<br>        <span class="hljs-comment"># 文件路径</span><br>        <span class="hljs-variable language_">self</span>.file_path = file_path<br><br>    <span class="hljs-comment"># 复写（实现抽象方法）父类的方法</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_data</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">list</span>[Record]:<br>        f = <span class="hljs-built_in">open</span>(<span class="hljs-variable language_">self</span>.file_path, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br><br>        record_list: <span class="hljs-built_in">list</span>[Record] = []<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f.readlines():<br>            <span class="hljs-comment"># 消除数据中每一行的\n</span><br>            line = line.strip()<br>            data_list = line.split(<span class="hljs-string">&quot;,&quot;</span>)<br>            record = Record(data_list[<span class="hljs-number">0</span>], data_list[<span class="hljs-number">1</span>], <span class="hljs-built_in">int</span>(data_list[<span class="hljs-number">2</span>]), data_list[<span class="hljs-number">3</span>])<br>            record_list.append(record)<br><br>        f.close()<br>        <span class="hljs-keyword">return</span> record_list<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">JsonTextFileReader</span>(<span class="hljs-title class_ inherited__">FileReader</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, file_path</span>):<br>        <span class="hljs-comment"># 文件路径</span><br>        <span class="hljs-variable language_">self</span>.file_path = file_path<br><br>    <span class="hljs-comment"># 复写（实现抽象方法）父类的方法</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_data</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">list</span>[Record]:<br>        f = <span class="hljs-built_in">open</span>(<span class="hljs-variable language_">self</span>.file_path, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br><br>        record_list: <span class="hljs-built_in">list</span>[Record] = []<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f.readlines():<br>            data_dict = json.loads(line)<br>            record = Record(data_dict[<span class="hljs-string">&#x27;date&#x27;</span>], data_dict[<span class="hljs-string">&#x27;order_id&#x27;</span>], <span class="hljs-built_in">int</span>(data_dict[<span class="hljs-string">&#x27;money&#x27;</span>]), data_dict[<span class="hljs-string">&#x27;province&#x27;</span>])<br>            record_list.append(record)<br><br>        f.close()<br>        <span class="hljs-keyword">return</span> record_list<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    text_file_reader = TextFileReader(<span class="hljs-string">&quot;utils/2011年1月销售数据.txt&quot;</span>)<br>    json_file_reader = JsonTextFileReader(<span class="hljs-string">&quot;utils/2011年2月销售数据JSON.txt&quot;</span>)<br>    list1 = text_file_reader.read_data()<br>    list2 = json_file_reader.read_data()<br><br>    <span class="hljs-keyword">for</span> l <span class="hljs-keyword">in</span> list1:<br>        <span class="hljs-built_in">print</span>(l)<br><br>    <span class="hljs-keyword">for</span> l <span class="hljs-keyword">in</span> list2:<br>        <span class="hljs-built_in">print</span>(l)<br></code></pre></td></tr></table></figure>



<p>main.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：面向对象，数据分析案例</span><br><span class="hljs-string">@File    ：main.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/29 20:35 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> pyecharts.options <span class="hljs-keyword">import</span> TitleOpts, LabelOpts<br><br><span class="hljs-keyword">from</span> file_define <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> data_define <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> pyecharts.charts <span class="hljs-keyword">import</span> Bar<br><span class="hljs-keyword">from</span> pyecharts <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> pyecharts.<span class="hljs-built_in">globals</span> <span class="hljs-keyword">import</span> ChartType<br><br><span class="hljs-comment"># 1.设计一个类，可以完成数据的封装</span><br><span class="hljs-comment"># 2.设计一个抽象类，定义文件读取的相关功能，并使用子类实现具体功能</span><br><span class="hljs-comment"># 3.读取文件，生产数据对象</span><br><span class="hljs-comment"># 4.进行数据需求的逻辑计算(计算每一天的销售额)</span><br>text_file_reader = TextFileReader(<span class="hljs-string">&quot;utils/2011年1月销售数据.txt&quot;</span>)<br>json_file_reader = JsonTextFileReader(<span class="hljs-string">&quot;utils/2011年2月销售数据JSON.txt&quot;</span>)<br><br>jan_data: <span class="hljs-built_in">list</span>[Record] = text_file_reader.read_data()<br>feb_data: <span class="hljs-built_in">list</span>[Record] = json_file_reader.read_data()<br><br><span class="hljs-comment"># 将两个数据合二为一</span><br>all_data: <span class="hljs-built_in">list</span>[Record] = jan_data + feb_data<br><br>data_dict = &#123;&#125;<br><span class="hljs-comment"># 用字典数据计算</span><br><span class="hljs-keyword">for</span> record <span class="hljs-keyword">in</span> all_data:<br>    <span class="hljs-keyword">if</span> record.date <span class="hljs-keyword">in</span> data_dict.keys():<br>        <span class="hljs-comment"># 如果已经存在，则进行累加</span><br>        data_dict[record.date] += record.money<br>    <span class="hljs-keyword">else</span>:<br><br>        data_dict[record.date] = record.money<br><span class="hljs-comment"># 5.通过PyEcharts进行图形绘制</span><br>bar = Bar()<br>bar.add_xaxis(<span class="hljs-built_in">list</span>(data_dict.keys()))<br>bar.add_yaxis(<span class="hljs-string">&quot;销售额&quot;</span>, <span class="hljs-built_in">list</span>(data_dict.values()), label_opts=LabelOpts(is_show=<span class="hljs-literal">False</span>))<br><br>bar.set_global_opts(<br>    title_opts=TitleOpts(title=<span class="hljs-string">&quot;2011年1月-2月每日销售额&quot;</span>),<br>)<br>bar.render(<span class="hljs-string">&quot;2011年1月-2月每日销售额.html&quot;</span>)<br><br></code></pre></td></tr></table></figure>



<h1 id="六-SQL"><a href="#六-SQL" class="headerlink" title="六 SQL"></a>六 SQL</h1><p>分组聚合</p>
<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214005595.png" srcset="/img/loading.gif" lazyload alt="QQ_1730254829987" style="zoom:50%;" />

<h2 id="6-1-数据库连接"><a href="#6-1-数据库连接" class="headerlink" title="6.1 数据库连接"></a>6.1 数据库连接</h2><p>1.Python中使用什么第三方库来操作MySQL？如何安装？</p>
<ul>
<li>使用第三方库为：pymysql</li>
<li>安装：pip install pymysql</li>
</ul>
<p>2.如何获取链接对象？</p>
<ul>
<li>from pymysqlimport Connection 导包</li>
<li>Connection(主机,端口,账户,密码)即可得到链接对象</li>
<li>链接对象.close()关闭和MySQL数据库的连接</li>
</ul>
<p>3.如何执行SQL查询</p>
<ul>
<li>通过连接对象调用cursor()方法，得到游标对象</li>
<li>游标对象.execute()执行SQL语句</li>
<li>游标对象.fetchall()得到全部的查询结果封装入元组内</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：01_pymysql入门.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/04 18:50 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-keyword">from</span> pymysql <span class="hljs-keyword">import</span> Connect<br><br>conn = Connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-number">3306</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    charset=<span class="hljs-string">&#x27;utf8&#x27;</span><br>)<br><br><span class="hljs-comment"># 执行非查询性质SQL</span><br>cursor = conn.cursor()<br><span class="hljs-comment"># 选择数据库</span><br>conn.select_db(<span class="hljs-string">&quot;test&quot;</span>)<br><br><span class="hljs-comment"># 执行SQL</span><br>cursor.execute(<span class="hljs-string">&#x27;SeLeCt * from student&#x27;</span>)<br><br><span class="hljs-comment"># 获取查询结果</span><br>result = cursor.fetchall()<br><span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> result:<br>    <span class="hljs-built_in">print</span>(row)<br><span class="hljs-comment"># 关闭连接</span><br>cursor.close()<br>conn.close()<br><br></code></pre></td></tr></table></figure>



<h2 id="6-2-数据插入"><a href="#6-2-数据插入" class="headerlink" title="6.2 数据插入"></a>6.2 数据插入</h2><p>数据插入有两种方法：</p>
<p>方法一——使用conn.commit()方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：02_数据插入.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/04 19:22 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> pymysql <span class="hljs-keyword">import</span> Connect<br><br>conn = Connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-number">3306</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    charset=<span class="hljs-string">&#x27;utf8&#x27;</span><br>)<br><br><span class="hljs-comment"># 执行非查询性质SQL</span><br>cursor = conn.cursor()<br><span class="hljs-comment"># 选择数据库</span><br>conn.select_db(<span class="hljs-string">&quot;test&quot;</span>)<br><br><span class="hljs-comment"># 执行SQL</span><br>cursor.execute(<span class="hljs-string">&#x27;insert into student(name,addr,age,gender) values(&quot;Alaska&quot;,&quot;上海&quot;,24,&quot;男&quot;)&#x27;</span>)<br>conn.commit()<br><br>cursor.close()<br>conn.close()<br></code></pre></td></tr></table></figure>



<p>方法二——直接设置autocommit&#x3D;True</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：02_数据插入.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/04 19:22 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> pymysql <span class="hljs-keyword">import</span> Connect<br><br>conn = Connect(<br>    host=<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    port=<span class="hljs-number">3306</span>,<br>    user=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    password=<span class="hljs-string">&#x27;root&#x27;</span>,<br>    charset=<span class="hljs-string">&#x27;utf8&#x27;</span><br>    autocommit=<span class="hljs-literal">True</span><br>)<br><br><span class="hljs-comment"># 执行非查询性质SQL</span><br>cursor = conn.cursor()<br><span class="hljs-comment"># 选择数据库</span><br>conn.select_db(<span class="hljs-string">&quot;test&quot;</span>)<br><br><span class="hljs-comment"># 执行SQL</span><br>cursor.execute(<span class="hljs-string">&#x27;insert into student(name,addr,age,gender) values(&quot;Alaska&quot;,&quot;上海&quot;,24,&quot;男&quot;)&#x27;</span>)<br><br>cursor.close()<br>conn.close()<br></code></pre></td></tr></table></figure>



<h2 id="6-3-综合案例"><a href="#6-3-综合案例" class="headerlink" title="6.3 综合案例"></a>6.3 综合案例</h2><p>03_综合案例.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：03_综合案例.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/04 19:29 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> file_define <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> data_define <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> pymysql <span class="hljs-keyword">import</span> Connection<br><br><span class="hljs-comment"># 1.设计一个类，可以完成数据的封装</span><br><span class="hljs-comment"># 2.设计一个抽象类，定义文件读取的相关功能，并使用子类实现具体功能</span><br><span class="hljs-comment"># 3.读取文件，生产数据对象</span><br><span class="hljs-comment"># 4.进行数据需求的逻辑计算(计算每一天的销售额)</span><br>text_file_reader = TextFileReader(<span class="hljs-string">&quot;utils/2011年1月销售数据.txt&quot;</span>)<br>json_file_reader = JsonTextFileReader(<span class="hljs-string">&quot;utils/2011年2月销售数据JSON.txt&quot;</span>)<br><br>jan_data: <span class="hljs-built_in">list</span>[Record] = text_file_reader.read_data()<br>feb_data: <span class="hljs-built_in">list</span>[Record] = json_file_reader.read_data()<br><br><span class="hljs-comment"># 将两个数据合二为一</span><br>all_data: <span class="hljs-built_in">list</span>[Record] = jan_data + feb_data<br><br><span class="hljs-comment"># 构建mysql数据库连接</span><br>conn = Connection(<br>    host=<span class="hljs-string">&quot;localhost&quot;</span>,<br>    port=<span class="hljs-number">3306</span>,<br>    user=<span class="hljs-string">&quot;root&quot;</span>,<br>    password=<span class="hljs-string">&quot;root&quot;</span>,<br>    autocommit=<span class="hljs-literal">True</span><br>)<br><span class="hljs-comment"># 获取游标对象</span><br>cursor = conn.cursor()<br><span class="hljs-comment"># 选择数据库</span><br>conn.select_db(<span class="hljs-string">&quot;py_sql&quot;</span>)<br><span class="hljs-comment"># 组织sql语句</span><br><span class="hljs-keyword">for</span> record <span class="hljs-keyword">in</span> all_data:<br>    sql = (<span class="hljs-string">f&quot;insert into orders(order_id, order_date, order_price, order_province)&quot;</span><br>           <span class="hljs-string">f&quot; values(&#x27;<span class="hljs-subst">&#123;record.order_id&#125;</span>&#x27;,&#x27;<span class="hljs-subst">&#123;record.date&#125;</span>&#x27;, <span class="hljs-subst">&#123;record.money&#125;</span>, &#x27;<span class="hljs-subst">&#123;record.province&#125;</span>&#x27;)&quot;</span>)<br>    <span class="hljs-built_in">print</span>(sql)<br>    <span class="hljs-comment"># 执行sql语句</span><br><br><span class="hljs-comment"># 关闭连接对象</span><br>conn.close()<br><br></code></pre></td></tr></table></figure>



<p>data_define.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：定义数据类型</span><br><span class="hljs-string">@File    ：data_define.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/29 20:36 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Record</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, date, order_id, money, province</span>):<br>        <span class="hljs-comment"># 订单日期</span><br>        <span class="hljs-variable language_">self</span>.date = date<br>        <span class="hljs-comment"># 订单ID</span><br>        <span class="hljs-variable language_">self</span>.order_id = order_id<br>        <span class="hljs-comment"># 订单金额</span><br>        <span class="hljs-variable language_">self</span>.money = money<br>        <span class="hljs-comment"># 销售省份</span><br>        <span class="hljs-variable language_">self</span>.province = province<br><br><br>    <span class="hljs-comment"># 将内存地址输出为对应的字符串</span><br>    <span class="hljs-keyword">def</span>  <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.date&#125;</span>, <span class="hljs-subst">&#123;self.order_id&#125;</span>, <span class="hljs-subst">&#123;self.money&#125;</span>, <span class="hljs-subst">&#123;self.province&#125;</span>&quot;</span><br><br></code></pre></td></tr></table></figure>



<p>file_define.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：和文件相关的类定义</span><br><span class="hljs-string">@File    ：file_define.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/10/29 20:42 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> json<br><br><span class="hljs-keyword">from</span> data_define <span class="hljs-keyword">import</span> Record<br><br><br><span class="hljs-comment"># 先定义一个抽象类用来做顶层设计，确定有那些功能需要实现</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FileReader</span>:<br><br>    <span class="hljs-comment"># 抽象方法，需要子类实现</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_data</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">list</span>[Record]:<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        读取文件数据，将数据转换为Record对象，并将其list封装返回</span><br><span class="hljs-string">        :return:</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-comment"># 定义一个具体的子类，实现抽象类的抽象方法</span><br><span class="hljs-comment"># 这个子类是用来读取文本文件的</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TextFileReader</span>(<span class="hljs-title class_ inherited__">FileReader</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, file_path</span>):<br>        <span class="hljs-comment"># 文件路径</span><br>        <span class="hljs-variable language_">self</span>.file_path = file_path<br><br>    <span class="hljs-comment"># 复写（实现抽象方法）父类的方法</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_data</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">list</span>[Record]:<br>        f = <span class="hljs-built_in">open</span>(<span class="hljs-variable language_">self</span>.file_path, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br><br>        record_list: <span class="hljs-built_in">list</span>[Record] = []<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f.readlines():<br>            <span class="hljs-comment"># 消除数据中每一行的\n</span><br>            line = line.strip()<br>            data_list = line.split(<span class="hljs-string">&quot;,&quot;</span>)<br>            record = Record(data_list[<span class="hljs-number">0</span>], data_list[<span class="hljs-number">1</span>], <span class="hljs-built_in">int</span>(data_list[<span class="hljs-number">2</span>]), data_list[<span class="hljs-number">3</span>])<br>            record_list.append(record)<br><br>        f.close()<br>        <span class="hljs-keyword">return</span> record_list<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">JsonTextFileReader</span>(<span class="hljs-title class_ inherited__">FileReader</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, file_path</span>):<br>        <span class="hljs-comment"># 文件路径</span><br>        <span class="hljs-variable language_">self</span>.file_path = file_path<br><br>    <span class="hljs-comment"># 复写（实现抽象方法）父类的方法</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_data</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">list</span>[Record]:<br>        f = <span class="hljs-built_in">open</span>(<span class="hljs-variable language_">self</span>.file_path, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br><br>        record_list: <span class="hljs-built_in">list</span>[Record] = []<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f.readlines():<br>            data_dict = json.loads(line)<br>            record = Record(data_dict[<span class="hljs-string">&#x27;date&#x27;</span>], data_dict[<span class="hljs-string">&#x27;order_id&#x27;</span>], <span class="hljs-built_in">int</span>(data_dict[<span class="hljs-string">&#x27;money&#x27;</span>]), data_dict[<span class="hljs-string">&#x27;province&#x27;</span>])<br>            record_list.append(record)<br><br>        f.close()<br>        <span class="hljs-keyword">return</span> record_list<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    text_file_reader = TextFileReader(<span class="hljs-string">&quot;utils/2011年1月销售数据.txt&quot;</span>)<br>    json_file_reader = JsonTextFileReader(<span class="hljs-string">&quot;utils/2011年2月销售数据JSON.txt&quot;</span>)<br>    list1 = text_file_reader.read_data()<br>    list2 = json_file_reader.read_data()<br><br>    <span class="hljs-keyword">for</span> l <span class="hljs-keyword">in</span> list1:<br>        <span class="hljs-built_in">print</span>(l)<br><br>    <span class="hljs-keyword">for</span> l <span class="hljs-keyword">in</span> list2:<br>        <span class="hljs-built_in">print</span>(l)<br></code></pre></td></tr></table></figure>



<h1 id="七-PySpark实战"><a href="#七-PySpark实战" class="headerlink" title="七 PySpark实战"></a>七 PySpark实战</h1><h2 id="7-1-基本概念"><a href="#7-1-基本概念" class="headerlink" title="7.1 基本概念"></a>7.1 基本概念</h2><p>定义：Apache Spark是用于大规模数据（large-scala data）处理的统一(unified)分析引擎。Spark是一款分布式的计算框架，用于调度成百上千的服务器集群，计算TB、PB乃至EB级别的海量数据。</p>
<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214030081.png" srcset="/img/loading.gif" lazyload alt="QQ_1730789118941" style="zoom: 33%;" />

<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214033173.png" srcset="/img/loading.gif" lazyload alt="QQ_1730789168427" style="zoom:33%;" />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：01_基础准备.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/04 21:18 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-comment"># 导包</span><br><span class="hljs-keyword">from</span> pyspark <span class="hljs-keyword">import</span> SparkConf, SparkContext<br><span class="hljs-comment"># 创建SparkConf类对象</span><br>conf = SparkConf().setMaster(<span class="hljs-string">&quot;local[*]&quot;</span>).setAppName(<span class="hljs-string">&quot;test_spark_app&quot;</span>)<br><span class="hljs-comment"># 创建SparkContext类对象</span><br>sc = SparkContext(conf=conf)<br><span class="hljs-comment"># 打印运行版本</span><br><span class="hljs-built_in">print</span>(sc.version)<br><span class="hljs-comment"># 停止SparkContext对象的运行</span><br>sc.stop()<br></code></pre></td></tr></table></figure>



<h2 id="7-2-RDD对象"><a href="#7-2-RDD对象" class="headerlink" title="7.2 RDD对象"></a>7.2 RDD对象</h2><p>如图可见，PySpark支持多种数据的输入，在输入完成后，都会得到一个：RDD类的对象</p>
<p>RDD全称为：弹性分布式数据集(ResilientDistributed Datasets)</p>
<p>PySpark针对数据的处理，都是以RDD对象作为载体，即：</p>
<ul>
<li>数据存储在RDD内</li>
<li>各类数据的计算方法，也都是RDD的成员方法</li>
<li>RDD的数据计算方法，返回值依旧是RDD对象</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：02_spark文件读取.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/05 15:02 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> pyspark <span class="hljs-keyword">import</span> *<br><br>conf = SparkConf().setMaster(<span class="hljs-string">&quot;local[*]&quot;</span>).setAppName(<span class="hljs-string">&quot;test_park&quot;</span>)<br><br>sc = SparkContext(conf=conf)<br><br><span class="hljs-built_in">print</span>(sc.textFile(<span class="hljs-string">&quot;utils/hello.txt&quot;</span>).collect())<br><br>sc.stop()<br></code></pre></td></tr></table></figure>



<h2 id="7-3-RDD算子"><a href="#7-3-RDD算子" class="headerlink" title="7.3 RDD算子"></a>7.3 RDD算子</h2><h3 id="7-3-1map和flatMap算子"><a href="#7-3-1map和flatMap算子" class="headerlink" title="7.3.1map和flatMap算子"></a>7.3.1map和flatMap算子</h3><p>功能：map算子，一条条处理（是将RDD的数据处理的逻辑 基于map算子中接收的处理函数），返回新的RDD</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：02_spark文件读取.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/05 15:02 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> pyspark <span class="hljs-keyword">import</span> SparkConf, SparkContext<br><span class="hljs-keyword">import</span> os<br>os.environ[<span class="hljs-string">&quot;PYSPARK_PYTHON&quot;</span>] = <span class="hljs-string">&#x27;E:/Environment/python/python3.10.11/python.exe&#x27;</span><br><br>conf = SparkConf().setMaster(<span class="hljs-string">&quot;local[*]&quot;</span>).setAppName(<span class="hljs-string">&quot;test_park&quot;</span>)<br><br>sparkContext  = SparkContext(conf=conf)<br><br><span class="hljs-comment"># 读取文件</span><br><span class="hljs-comment"># print(sc.textFile(&quot;utils/hello.txt&quot;).collect())</span><br><br><span class="hljs-comment"># 创建一个包含整数的 RDD</span><br>rdd = sparkContext.parallelize([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<br><br><br><span class="hljs-comment"># 为每个元素执行的函数</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">element</span>):<br>    <span class="hljs-keyword">return</span> element * <span class="hljs-number">10</span><br><br><span class="hljs-comment"># 应用 map 操作，将每个元素乘以 10,打印新的 RDD 中的内容</span><br><span class="hljs-built_in">print</span>(rdd.<span class="hljs-built_in">map</span>(func).collect())<br><br><span class="hljs-comment"># 停止 PySpark 程序</span><br>sparkContext.stop()<br></code></pre></td></tr></table></figure>



<p>改进lambda</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：02_spark文件读取.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/05 15:02 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> pyspark <span class="hljs-keyword">import</span> SparkConf, SparkContext<br><span class="hljs-keyword">import</span> os<br><br>os.environ[<span class="hljs-string">&quot;PYSPARK_PYTHON&quot;</span>] = <span class="hljs-string">&#x27;E:/Environment/python/python3.10.11/python.exe&#x27;</span><br><br>conf = SparkConf().setMaster(<span class="hljs-string">&quot;local[*]&quot;</span>).setAppName(<span class="hljs-string">&quot;test_park&quot;</span>)<br><br>sparkContext = SparkContext(conf=conf)<br><br><span class="hljs-comment"># 读取文件</span><br><span class="hljs-comment"># print(sc.textFile(&quot;utils/hello.txt&quot;).collect())</span><br><br><span class="hljs-comment"># 创建一个包含整数的 RDD</span><br>rdd = sparkContext.parallelize([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<br><br><span class="hljs-comment"># 应用 map 操作，将每个元素乘以 10,打印新的 RDD 中的内容</span><br><span class="hljs-built_in">print</span>(rdd.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: x * <span class="hljs-number">10</span>).<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: x + <span class="hljs-number">5</span>).collect())<br><br><span class="hljs-comment"># 停止 PySpark 程序</span><br>sparkContext.stop()<br></code></pre></td></tr></table></figure>



<p>flatMap：唯一不同就是对结果接触嵌套</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：03_flatMap.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/05 16:09 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> pyspark <span class="hljs-keyword">import</span> SparkConf, SparkContext<br><span class="hljs-keyword">import</span> os<br><br>os.environ[<span class="hljs-string">&quot;PYSPARK_PYTHON&quot;</span>] = <span class="hljs-string">&#x27;E:/Environment/python/python3.10.11/python.exe&#x27;</span><br><br>conf = SparkConf().setMaster(<span class="hljs-string">&quot;local[*]&quot;</span>).setAppName(<span class="hljs-string">&quot;test_park&quot;</span>)<br><br>sparkContext = SparkContext(conf=conf)<br><br><span class="hljs-comment"># 创建一个包含整数的 RDD</span><br>rdd = sparkContext.parallelize([<span class="hljs-string">&quot;itheima itcast hello&quot;</span>, <span class="hljs-string">&quot;hello world&quot;</span>, <span class="hljs-string">&quot;hello itheima&quot;</span>])<br><br><span class="hljs-comment"># 应用 map 操作，将每个元素乘以 10,打印新的 RDD 中的内容</span><br><span class="hljs-built_in">print</span>(rdd.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: x.split(<span class="hljs-string">&quot; &quot;</span>)).collect())<br><span class="hljs-built_in">print</span>(rdd.flatMap(<span class="hljs-keyword">lambda</span> x: x.split(<span class="hljs-string">&quot; &quot;</span>)).collect())<br><br><span class="hljs-comment"># 停止 PySpark 程序</span><br>sparkContext.stop()<br></code></pre></td></tr></table></figure>



<h3 id="7-3-2-reduceByKey"><a href="#7-3-2-reduceByKey" class="headerlink" title="7.3.2 reduceByKey"></a>7.3.2 reduceByKey</h3><p>功能：针对KV型RDD，自动按照key分组，然后根据你提供的聚合逻辑，完成组内数据（value）的聚合操作</p>
<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214040300.png" srcset="/img/loading.gif" lazyload alt="QQ_1730803927941" style="zoom: 50%;" />



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：04_reduceByKey.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/05 18:53 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> pyspark <span class="hljs-keyword">import</span> SparkConf, SparkContext<br><span class="hljs-keyword">import</span> os<br><br>os.environ[<span class="hljs-string">&quot;PYSPARK_PYTHON&quot;</span>] = <span class="hljs-string">&#x27;E:/Environment/python/python3.10.11/python.exe&#x27;</span><br><br>conf = SparkConf().setMaster(<span class="hljs-string">&quot;local[*]&quot;</span>).setAppName(<span class="hljs-string">&quot;test_park&quot;</span>)<br><br>sparkContext = SparkContext(conf=conf)<br><br><span class="hljs-comment"># 创建一个包含整数的 RDD</span><br>rdd = sparkContext.parallelize([(<span class="hljs-string">&#x27;男&#x27;</span>, <span class="hljs-number">88</span>), (<span class="hljs-string">&#x27;女&#x27;</span>, <span class="hljs-number">99</span>), (<span class="hljs-string">&#x27;男&#x27;</span>, <span class="hljs-number">77</span>), (<span class="hljs-string">&#x27;女&#x27;</span>, <span class="hljs-number">66</span>), (<span class="hljs-string">&#x27;男&#x27;</span>, <span class="hljs-number">87</span>)])<br><br><span class="hljs-built_in">print</span>(rdd.reduceByKey(<span class="hljs-keyword">lambda</span> x, y: x + y).collect())<br><br></code></pre></td></tr></table></figure>



<p>综合统计案例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：05_综合案例.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/05 18:58 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> pyspark <span class="hljs-keyword">import</span> *<br><br><span class="hljs-keyword">import</span> os<br><br><span class="hljs-comment"># 构建执行环境</span><br>os.environ[<span class="hljs-string">&quot;PYSPARK_PYTHON&quot;</span>] = <span class="hljs-string">&#x27;E:/Environment/python/python3.10.11/python.exe&#x27;</span><br>conf = SparkConf().setMaster(<span class="hljs-string">&#x27;local[*]&#x27;</span>).setAppName(<span class="hljs-string">&#x27;account_spark&#x27;</span>)<br>sc = SparkContext(conf=conf)<br><br><span class="hljs-comment"># 读取数据文件</span><br>rdd = sc.textFile(<span class="hljs-string">&quot;utils/hello.txt&quot;</span>)<br><span class="hljs-comment"># 取出全部单词将所有单词都转化成二元元组，单词为Key，Value设置为1</span><br><span class="hljs-built_in">print</span>(rdd.flatMap(<span class="hljs-keyword">lambda</span> x: x.split(<span class="hljs-string">&quot; &quot;</span>)).<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: (x, <span class="hljs-number">1</span>)).reduceByKey(<span class="hljs-keyword">lambda</span> x, y: x + y).collect())<br></code></pre></td></tr></table></figure>



<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs txt">itheima itheima itcast itheima<br>spark python spark python itheima<br>itheima itcast itcast itheima python<br>python python spark pyspark pyspark<br>itheima python pyspark itcast spark<br></code></pre></td></tr></table></figure>



<blockquote>
<p>输出结果：[(‘itcast’, 4), (‘python’, 6), (‘itheima’, 7), (‘spark’, 4), (‘pyspark’, 3)]</p>
</blockquote>
<h3 id="7-3-3-filter、distinct和sortBy"><a href="#7-3-3-filter、distinct和sortBy" class="headerlink" title="7.3.3 filter、distinct和sortBy"></a>7.3.3 filter、distinct和sortBy</h3><blockquote>
<p>filter：过滤掉不想要的，留下来的结果是想要的数据</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：06_filter.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/05 19:19 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> pyspark <span class="hljs-keyword">import</span> SparkConf, SparkContext<br><span class="hljs-keyword">import</span> os<br><br>os.environ[<span class="hljs-string">&quot;PYSPARK_PYTHON&quot;</span>] = <span class="hljs-string">&#x27;E:/Environment/python/python3.10.11/python.exe&#x27;</span><br>conf = SparkConf().setMaster(<span class="hljs-string">&quot;local[*]&quot;</span>).setAppName(<span class="hljs-string">&quot;test_park&quot;</span>)<br>sparkContext = SparkContext(conf=conf)<br><br><span class="hljs-comment"># 创建一个包含整数的 RDD</span><br>rdd = sparkContext.parallelize([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<br><span class="hljs-comment"># 过滤掉奇数，留下来的结果是偶数</span><br><span class="hljs-built_in">print</span>(rdd.<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>).collect())<br></code></pre></td></tr></table></figure>



<blockquote>
<p>distinct：表示对RDD数据去重，返回新的RDD数据</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 创建一个包含整数的 RDD</span><br>rdd = sparkContext.parallelize([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">5</span>])<br><span class="hljs-comment"># 过滤掉奇数，留下来的结果是偶数</span><br><span class="hljs-built_in">print</span>(rdd.<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>).distinct().collect())<br></code></pre></td></tr></table></figure>



<blockquote>
<p>sortBy：对数据进行排序，基于拟定的排序依据</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">rdd.sortBy(func, ascending=<span class="hljs-literal">False</span>, numPartitions=<span class="hljs-number">1</span>)<br><span class="hljs-comment"># func:(T)→U  :告知按照rdd中的哪个数据进行排序，比如 lambda x:x[1] 表示按照rdd中的第二列元素进行排序</span><br><span class="hljs-comment"># ascending True升序 False 降序</span><br><span class="hljs-comment"># numPartitions:用多少分区排序</span><br></code></pre></td></tr></table></figure>



<p>综合案例2</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：07_综合案例2.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/05 19:42 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> pyspark <span class="hljs-keyword">import</span> *<br><br><span class="hljs-keyword">import</span> os, json<br><br><span class="hljs-comment"># 构建执行环境</span><br>os.environ[<span class="hljs-string">&quot;PYSPARK_PYTHON&quot;</span>] = <span class="hljs-string">&#x27;E:/Environment/python/python3.10.11/python.exe&#x27;</span><br>conf = SparkConf().setMaster(<span class="hljs-string">&#x27;local[*]&#x27;</span>).setAppName(<span class="hljs-string">&#x27;account_spark&#x27;</span>)<br>sc = SparkContext(conf=conf)<br><br><span class="hljs-comment"># TODO 需求1：城市销售额排名</span><br><span class="hljs-comment"># 1.1 读取文件得到RDD</span><br>file_rdd = sc.textFile(<span class="hljs-string">&quot;utils/orders.txt&quot;</span>)<br><br><span class="hljs-comment"># 1.2取出一个个JSON字符串</span><br>json_rdd = file_rdd.flatMap(<span class="hljs-keyword">lambda</span> x: x.split(<span class="hljs-string">&#x27;|&#x27;</span>))<br><br><span class="hljs-comment"># 1.3将一个个JSON字符串转换为字典</span><br>dict_rdd = json_rdd.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: json.loads(x))<br><br><span class="hljs-comment"># 1.4取出城市和销售额数据</span><br>city_with_money_rdd = dict_rdd.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: (x[<span class="hljs-string">&#x27;areaName&#x27;</span>], <span class="hljs-built_in">int</span>(x[<span class="hljs-string">&#x27;money&#x27;</span>])))<br><br><span class="hljs-comment"># 1.5按城市分组按销售额聚合,按销售额聚合结果进行排序</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;全国售卖商品销售额排序&quot;</span>, city_with_money_rdd.reduceByKey(<span class="hljs-keyword">lambda</span> x, y: x + y).sortBy(<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>], ascending=<span class="hljs-literal">False</span>).collect())<br><br><span class="hljs-comment"># TODO 需求2:全部城市有哪些商品类别在售卖</span><br><span class="hljs-comment"># 2.1 取出全部的商品类别</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;全部售卖商品类别&quot;</span>, dict_rdd.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-string">&#x27;category&#x27;</span>]).distinct().collect())<br><br><span class="hljs-comment"># TODO 需求3:北京市有哪些商品类别在售卖</span><br><span class="hljs-comment"># 3.1 取出北京市的商品类别</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;北京市售卖商品类别&quot;</span>, dict_rdd.<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-string">&#x27;areaName&#x27;</span>] == <span class="hljs-string">&#x27;北京&#x27;</span>).<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-string">&#x27;category&#x27;</span>]).distinct().collect())<br></code></pre></td></tr></table></figure>



<p>7.3.4 take、reduce和count、</p>
<blockquote>
<p>reduce：按照传入的逻辑进行聚合</p>
<p>take：取出RDD的前N个元素，组成list返回</p>
<p>count：统计数据个数</p>
</blockquote>
<h2 id="7-4-算子写入文件"><a href="#7-4-算子写入文件" class="headerlink" title="7.4  算子写入文件"></a>7.4  算子写入文件</h2><p>hadoop设置分区为1的两种方式：</p>
<blockquote>
<p>方式1，SparkConf对象设置属性全局并行度为1</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">conf = SparkConf().setMaster(<span class="hljs-string">&#x27;local[*]&#x27;</span>).setAppName(<span class="hljs-string">&#x27;account_spark&#x27;</span>)<br>conf.<span class="hljs-built_in">set</span>(<span class="hljs-string">&quot;spark.default.parallelism&quot;</span>, <span class="hljs-string">&quot;1&quot;</span>)<br>sc = SparkContext(conf=conf)<br></code></pre></td></tr></table></figure>



<blockquote>
<p>方式2，创建RDD的时候设置(parallelize方法传入numSlices参数为1)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 准备RDD1</span><br>rdd1 = sc.parallelize([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>], numSlices=<span class="hljs-number">1</span>)<br><span class="hljs-comment"># 准备RDD2</span><br>rdd2 = sc.parallelize([(<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-number">3</span>), (<span class="hljs-string">&quot;Spark&quot;</span>, <span class="hljs-number">5</span>), (<span class="hljs-string">&quot;Hi&quot;</span>, <span class="hljs-number">7</span>)], <span class="hljs-number">1</span>)<br><span class="hljs-comment"># 准备RDD3</span><br>rdd3 = sc.parallelize([[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>], [<span class="hljs-number">11</span>, <span class="hljs-number">13</span>, <span class="hljs-number">11</span>]], <span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure>



<blockquote>
<p>综合案例</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：09_综合案例3.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/06 08:39 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> pyspark <span class="hljs-keyword">import</span> SparkContext, SparkConf<br><span class="hljs-keyword">import</span> os, json<br><br>os.environ[<span class="hljs-string">&quot;PYSPARK_PYTHON&quot;</span>] = <span class="hljs-string">&#x27;E:/Environment/python/python3.10.11/python.exe&#x27;</span><br>os.environ[<span class="hljs-string">&#x27;HADOOP_HOME&#x27;</span>] = <span class="hljs-string">&#x27;E:\Environment\hadoop-3.4.0&#x27;</span><br>conf = SparkConf(). \<br>    setAppName(<span class="hljs-string">&quot;hotSearch&quot;</span>). \<br>    setMaster(<span class="hljs-string">&quot;local[*]&quot;</span>). \<br>    <span class="hljs-built_in">set</span>(<span class="hljs-string">&quot;spark.default.parallelism&quot;</span>, <span class="hljs-string">&quot;1&quot;</span>)<br>sc = SparkContext(conf=conf)<br><br><span class="hljs-comment"># 读取文件转换成RDD</span><br>rdd = sc.textFile(<span class="hljs-string">&quot;utils/search_log.txt&quot;</span>)<br><span class="hljs-comment"># TODO 需求1: 热门搜索时间段Top3(小时精度)</span><br><span class="hljs-comment"># 1.1 取出全部的时间并转换为小时</span><br><span class="hljs-comment"># 1.2 转换为(小时，1)的二元元组</span><br><span class="hljs-comment"># 1.3 Key分组聚合Value</span><br><span class="hljs-comment"># 1.4 排序(降序)</span><br><span class="hljs-comment"># 1.5 取前3</span><br>result_rdd = rdd.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: (x.split(<span class="hljs-string">&quot;\t&quot;</span>)[<span class="hljs-number">0</span>][:<span class="hljs-number">2</span>], <span class="hljs-number">1</span>)). \<br>    reduceByKey(<span class="hljs-keyword">lambda</span> x, y: x + y). \<br>    sortBy(<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>], ascending=<span class="hljs-literal">False</span>, numPartitions=<span class="hljs-number">1</span>). \<br>    take(<span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;需求1的结果是：&quot;</span>, result_rdd)<br><br><span class="hljs-comment"># TODO 需求2:热门搜索词Top3</span><br><span class="hljs-comment"># 2.1 取出全部的搜索词</span><br><span class="hljs-comment"># 2.2 (词，1)二元元组</span><br><span class="hljs-comment"># 2.3 分组聚合</span><br><span class="hljs-comment"># 2.4 排序</span><br><span class="hljs-comment"># 2.5 Top3</span><br>search_rdd = rdd.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: (x.split(<span class="hljs-string">&quot;\t&quot;</span>)[<span class="hljs-number">2</span>], <span class="hljs-number">1</span>)). \<br>    reduceByKey(<span class="hljs-keyword">lambda</span> x, y: x + y). \<br>    sortBy(<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>], ascending=<span class="hljs-literal">False</span>, numPartitions=<span class="hljs-number">1</span>). \<br>    take(<span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;需求2的结果是：&quot;</span>, search_rdd)<br><span class="hljs-comment"># TODO 需求3:统计黑马程序员关键字在什么时段被搜索的最多</span><br><span class="hljs-comment"># 3.1 过滤内容，只保留黑马程序员关键词</span><br><span class="hljs-comment"># 3.2 转换为(小时，1)的二元元组</span><br><span class="hljs-comment"># 3.3 Key分组聚合Value</span><br><span class="hljs-comment"># 3.4 排序(降序)</span><br><span class="hljs-comment"># 3.5 取前1</span><br>key_max_in_time_rdd = rdd.<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: <span class="hljs-string">&quot;黑马程序员&quot;</span> <span class="hljs-keyword">in</span> x). \<br>    <span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: (x.split(<span class="hljs-string">&quot;\t&quot;</span>)[<span class="hljs-number">0</span>][:<span class="hljs-number">2</span>], <span class="hljs-number">1</span>)). \<br>    reduceByKey(<span class="hljs-keyword">lambda</span> x, y: x + y). \<br>    sortBy(<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>], ascending=<span class="hljs-literal">False</span>, numPartitions=<span class="hljs-number">1</span>). \<br>    take(<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;需求3的结果是：&quot;</span>, key_max_in_time_rdd)<br><br><span class="hljs-comment"># TODO 需求4:将数据转化为JSON格式，写到文件中</span><br><span class="hljs-comment"># 4.1 转化为JSON格式的RDD</span><br><span class="hljs-comment"># 4.2 写为文件</span><br>rdd.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: x.split(<span class="hljs-string">&quot;\t&quot;</span>)). \<br>    <span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: &#123;<span class="hljs-string">&quot;Time&quot;</span>: x[<span class="hljs-number">0</span>], <span class="hljs-string">&quot;User_id&quot;</span>: x[<span class="hljs-number">1</span>], <span class="hljs-string">&quot;Search_word&quot;</span>: x[<span class="hljs-number">2</span>],<br>                   <span class="hljs-string">&quot;Search_count&quot;</span>: x[<span class="hljs-number">3</span>], <span class="hljs-string">&quot;Clicks_count&quot;</span>: x[<span class="hljs-number">4</span>], <span class="hljs-string">&quot;Search_URL&quot;</span>: x[<span class="hljs-number">5</span>]&#125;). \<br>    saveAsTextFile(<span class="hljs-string">&quot;search_log_json&quot;</span>)<br><br></code></pre></td></tr></table></figure>



<h1 id="八-高阶学习"><a href="#八-高阶学习" class="headerlink" title="八 高阶学习"></a>八 高阶学习</h1><h2 id="8-1-闭包"><a href="#8-1-闭包" class="headerlink" title="8.1 闭包"></a>8.1 闭包</h2><p>概念：为了改变全局变量有被修改的风险，在函数嵌套的前提下，内部函数使用了外部函数的变量，并且外部函数返回了内部函数，我们把这个使用外部函数变量的内部函数称为闭包。</p>
<blockquote>
<p>优点，使用闭包可以让我们得到：</p>
</blockquote>
<ul>
<li>无需定义全局变量即可实现通过函数，持续的访问、修改某个值</li>
<li>闭包使用的变量的所用于在函数内，难以被错误的调用修改</li>
</ul>
<blockquote>
<p>缺点：</p>
</blockquote>
<ul>
<li>由于内部函数持续引用外部函数的值，所以会导致这一部分内存空间不被释放一直占用内存</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 简单闭包</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_logo_printer</span>(<span class="hljs-params">logo: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">callable</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    创建一个打印带有logo的消息的函数</span><br><span class="hljs-string">    :param logo: logo文本</span><br><span class="hljs-string">    :return: 一个打印带有logo的消息的函数logo_printer</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">logo_printer</span>(<span class="hljs-params">msg: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        打印带有logo的消息</span><br><span class="hljs-string">        :param msg: 消息文本</span><br><span class="hljs-string">        :return: None</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;&lt;<span class="hljs-subst">&#123;logo&#125;</span>&gt;<span class="hljs-subst">&#123;msg&#125;</span>&lt;<span class="hljs-subst">&#123;logo&#125;</span>&gt;&quot;</span>)<br><br>    <span class="hljs-keyword">return</span> logo_printer<br><br><br>fn1 = create_logo_printer(<span class="hljs-string">&quot;中国&quot;</span>)<br>fn1(<span class="hljs-string">&quot;重庆&quot;</span>)<br></code></pre></td></tr></table></figure>



<blockquote>
<p><strong>使用nonlocal关键字修改外部函数的值</strong></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 使用nonlocal关键字修改外部函数的值</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_accumulator</span>(<span class="hljs-params">initial_value: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">callable</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Creates an accumulator function that adds a given increment to the initial value.</span><br><span class="hljs-string"></span><br><span class="hljs-string">    Args:</span><br><span class="hljs-string">        initial_value: The initial value of the accumulator.</span><br><span class="hljs-string"></span><br><span class="hljs-string">    Returns:</span><br><span class="hljs-string">        A function that takes an increment and returns the updated accumulator value.</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">accumulator</span>(<span class="hljs-params">increment: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">nonlocal</span> initial_value<br>        initial_value += increment<br>        <span class="hljs-built_in">print</span>(initial_value)<br><br>    <span class="hljs-keyword">return</span> accumulator<br><br><br>fn = create_accumulator(<span class="hljs-number">10</span>)<br>fn(<span class="hljs-number">23</span>)<br></code></pre></td></tr></table></figure>



<blockquote>
<p>ATM小案例</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ATM小案例</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_account</span>(<span class="hljs-params">initial_amount=<span class="hljs-number">0</span></span>):<br>    balance = initial_amount<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">transaction</span>(<span class="hljs-params">amount, deposit=<span class="hljs-literal">True</span></span>):<br>        <span class="hljs-keyword">nonlocal</span> balance<br>        <span class="hljs-keyword">if</span> deposit:<br>            balance += amount<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;存款：+<span class="hljs-subst">&#123;amount&#125;</span>, 余额：<span class="hljs-subst">&#123;balance&#125;</span>&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">if</span> balance &gt;= amount:<br>                balance -= amount<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;取款：-<span class="hljs-subst">&#123;amount&#125;</span>, 余额：<span class="hljs-subst">&#123;balance&#125;</span>&quot;</span>)<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;余额不足&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_balance</span>():<br>        <span class="hljs-keyword">return</span> balance<br><br>    <span class="hljs-keyword">return</span> transaction, get_balance<br>account, get_balance = create_account(<span class="hljs-number">1000</span>)<br>account(<span class="hljs-number">500</span>, deposit=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># 存款 500</span><br>account(<span class="hljs-number">200</span>, deposit=<span class="hljs-literal">False</span>)  <span class="hljs-comment"># 取款 200</span><br><span class="hljs-built_in">print</span>(get_balance())  <span class="hljs-comment"># 获取当前余额</span><br><br></code></pre></td></tr></table></figure>



<h2 id="8-2-装饰器"><a href="#8-2-装饰器" class="headerlink" title="8.2 装饰器"></a>8.2 装饰器</h2><blockquote>
<p>普通写法</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 装饰器一般写法（闭包）</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sleep</span>():<br>    <span class="hljs-keyword">import</span> random<br>    <span class="hljs-keyword">import</span> time<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;sleeping...&quot;</span>)<br>    time.sleep(random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I want to sleep&quot;</span>)<br>sleep()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I have slept&quot;</span>)<br></code></pre></td></tr></table></figure>



<blockquote>
<p>装饰器一般写法</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 装饰器一般写法（闭包）</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">decorator</span>(<span class="hljs-params">func</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>():<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I want to sleep&quot;</span>)<br>        func()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I have slept&quot;</span>)<br><br>    <span class="hljs-keyword">return</span> wrapper<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sleep</span>():<br>    <span class="hljs-keyword">import</span> random<br>    <span class="hljs-keyword">import</span> time<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;sleeping...&quot;</span>)<br>    time.sleep(random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>))<br><br><span class="hljs-comment"># 使用`decorator`装饰器包装原函数`sleep`，并调用包装后的函数。</span><br>decorator(sleep)()<br></code></pre></td></tr></table></figure>



<blockquote>
<p>语法糖写法</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 装饰器的快捷写法</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">decorator</span>(<span class="hljs-params">func</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>():<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I want to sleep&quot;</span>)<br>        func()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I have slept&quot;</span>)<br><br>    <span class="hljs-keyword">return</span> wrapper<br><br><span class="hljs-meta">@decorator</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sleep</span>():<br>    <span class="hljs-keyword">import</span> random<br>    <span class="hljs-keyword">import</span> time<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;sleeping...&quot;</span>)<br>    time.sleep(random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>))<br><br>sleep()<br></code></pre></td></tr></table></figure>





<h2 id="8-3-设计模式"><a href="#8-3-设计模式" class="headerlink" title="8.3 设计模式"></a>8.3 设计模式</h2><h3 id="8-3-1-单例模式"><a href="#8-3-1-单例模式" class="headerlink" title="8.3.1 单例模式"></a>8.3.1 单例模式</h3><p>概念：单例模式(Singleton Pattern)是一种常用的软件设计模式,该模式的主要目的是确保某一个类只有一个实例存在。在整个系统中，某个类只能出现一个实例时，单例对象就能派上用场。</p>
<p>定义：保证一个类只有一个实例，并提供一个访问它的全局访问点</p>
<p>适用场景：当一个类只能有一个实例，而客户可以从一个众所周知的访问点访问它时。</p>
<blockquote>
<p>单例模式_strTools.py</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：单例模式_strTools.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/07 20:17 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> 单例模式_strTools  <span class="hljs-keyword">import</span> str_tools<br><br>t1 = str_tools<br>t2 = str_tools<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">id</span>(t1))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">id</span>(t2))<br></code></pre></td></tr></table></figure>



<blockquote>
<p>单例模式_strTools.py</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：单例模式_strTools.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/07 20:17 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">StrTools</span>:<br>    <span class="hljs-keyword">pass</span><br><br>str_tools =  StrTools()<br></code></pre></td></tr></table></figure>



<p><font color='red'>输出结果：相当于使用的一个实例化对象~</font></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">2199380285360</span><br><span class="hljs-number">2199380285360</span><br><br>进程已结束，退出代码为 <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>





<h3 id="8-3-2-工厂模式"><a href="#8-3-2-工厂模式" class="headerlink" title="8.3.2 工厂模式"></a>8.3.2 工厂模式</h3><p>概念：当需要大量创建一个类的实例的时候，可以使用工厂模式。即，从原生的使用类的构造去创建对象的形式迁移到，基于工厂提供的方法去创建对象的形式。</p>
<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214055645.png" srcset="/img/loading.gif" lazyload alt="QQ_1730982484566" style="zoom: 50%;" />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：05_工厂模式.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/07 20:28 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-title class_ inherited__">Person</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I am a worker&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>(<span class="hljs-title class_ inherited__">Person</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I am a student&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Teacher</span>(<span class="hljs-title class_ inherited__">Person</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I am a teacher&quot;</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Factory</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_person</span>(<span class="hljs-params">self, person_type</span>):<br>        <span class="hljs-keyword">if</span> person_type == <span class="hljs-string">&#x27;worker&#x27;</span>:<br>            <span class="hljs-keyword">return</span> Worker()<br>        <span class="hljs-keyword">elif</span> person_type == <span class="hljs-string">&#x27;student&#x27;</span>:<br>            <span class="hljs-keyword">return</span> Student()<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> Teacher()<br><br><br>factory = Factory()<br><span class="hljs-built_in">print</span>(factory.get_person(<span class="hljs-string">&#x27;worker&#x27;</span>))<br><span class="hljs-built_in">print</span>(factory.get_person(<span class="hljs-string">&#x27;student&#x27;</span>))<br><span class="hljs-built_in">print</span>(factory.get_person(<span class="hljs-string">&#x27;teacher&#x27;</span>))<br></code></pre></td></tr></table></figure>



<h2 id="8-4-多线程"><a href="#8-4-多线程" class="headerlink" title="8.4 多线程"></a>8.4 多线程</h2><h3 id="8-4-1-进程、线程和并行执行"><a href="#8-4-1-进程、线程和并行执行" class="headerlink" title="8.4.1 进程、线程和并行执行"></a>8.4.1 进程、线程和并行执行</h3><p>进程：就是一个程序,运行在系统之上，那么便称之这个程序为一个运行进程，并分配进程ID方便系统管理。<br>线程：线程是归属于进程的，一个进程可以开启多个线程，执行不同的工作，是进程的实际工作最小单位。</p>
<p>并行执行：同一时间做不同的工作。</p>
<p>进程之间就是并行执行的，操作系统可以同时运行好多程序，这些程序都是在并行执行。</p>
<img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214059451.png" srcset="/img/loading.gif" lazyload alt="QQ_1730983615518" style="zoom:67%;" />



<blockquote>
<p>进程之间是内存隔离的，即不同的进程拥有各自的内存空间。这就类似于不同的公司拥有不同的办公场所。</p>
<p>线程之间是内存共享的，线程是属于进程的，一个进程内的多个线程之间是共享这个进程所拥有的内存空间的，</p>
<p>这就好比，公司员工之间是共享公司的办公场所。</p>
</blockquote>
<h3 id="8-4-2-多线程编程"><a href="#8-4-2-多线程编程" class="headerlink" title="8.4.2 多线程编程"></a>8.4.2 多线程编程</h3><img src="https://alaskaboo-picgo.oss-cn-shanghai.aliyuncs.com/20250625214103457.png" srcset="/img/loading.gif" lazyload alt="QQ_1730986269110" style="zoom:50%;" />

<p>单线程示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sing</span>():<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I am singing....&quot;</span>)<br>        time.sleep(<span class="hljs-number">1</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">dance</span>():<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I am dancing....&quot;</span>)<br>        time.sleep(<span class="hljs-number">1</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    sing()<br>    dance()<br></code></pre></td></tr></table></figure>





<p>多线程：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：06_多线程.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/07 21:33 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-keyword">import</span> time, threading<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sing</span>(<span class="hljs-params">msg</span>):<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-built_in">print</span>(msg)<br>        time.sleep(<span class="hljs-number">1</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">dance</span>(<span class="hljs-params">msg</span>):<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-built_in">print</span>(msg)<br>        time.sleep(<span class="hljs-number">1</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># 创建一个唱歌的进程，并传入参数args=(&#x27;我在唱歌&#x27;,)，一定要带括号才是元组形式</span><br>    sing_thread = threading.Thread(target=sing, args=(<span class="hljs-string">&#x27;我在唱歌&#x27;</span>,))<br><br>    <span class="hljs-comment"># 创建一个跳舞的进程</span><br>    dance_thread = threading.Thread(target=dance,kwargs=&#123;<span class="hljs-string">&#x27;msg&#x27;</span>:<span class="hljs-string">&#x27;我在跳舞&#x27;</span>&#125;)<br>    sing_thread.start()<br>    dance_thread.start()<br></code></pre></td></tr></table></figure>



<h2 id="8-5-网络编程"><a href="#8-5-网络编程" class="headerlink" title="8.5 网络编程"></a>8.5 网络编程</h2><p>socket(简称 套接字)是进程之间通信一个工具，好比现实生活中的插座，所有的家用电器要想工作都是基于插座进行，<font color='red'>进程之间想要进行网络通信需要socket</font>。<br>Socket负责进程之间的网络数据传输，好比数据的搬运工。</p>
<h3 id="8-5-1-服务端编程"><a href="#8-5-1-服务端编程" class="headerlink" title="8.5.1 服务端编程"></a>8.5.1 服务端编程</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：07_socket_服务端开发.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/08 18:33 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> socket<br><br><span class="hljs-comment"># 创建Socket对象</span><br>socket_server = socket.socket()<br><span class="hljs-comment"># 绑定ip地址和端口</span><br>socket_server.bind((<span class="hljs-string">&#x27;127.0.0.1&#x27;</span>, <span class="hljs-number">8888</span>))<br><span class="hljs-comment"># 监听端口，括号内的是服务器监听数量</span><br>socket_server.listen(<span class="hljs-number">5</span>)<br><span class="hljs-comment"># 等待客户端连接</span><br><span class="hljs-comment"># result: tuple = socket_server.accept()</span><br><span class="hljs-comment"># conn = result[0]</span><br><span class="hljs-comment"># address = result[1]</span><br>conn, address = socket_server.accept()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;接收到了客户端的连接，客户端的信息是：<span class="hljs-subst">&#123;address&#125;</span>&quot;</span>)<br><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-comment"># 接受客户端信息recv是缓冲区的大小，一般给定1024即可</span><br>    data: <span class="hljs-built_in">str</span> = conn.recv(<span class="hljs-number">1024</span>).decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;客户端发来的消息是:<span class="hljs-subst">&#123;data&#125;</span>&quot;</span>)<br>    <span class="hljs-comment"># 发送回复消息</span><br>    msg = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入你要和客户端回复的消息：&quot;</span>)<br>    <span class="hljs-keyword">if</span> msg == <span class="hljs-string">&quot;exit&quot;</span>:<br>        <span class="hljs-keyword">break</span><br>    conn.send(msg.encode(<span class="hljs-string">&quot;utf-8&quot;</span>))<br><br><span class="hljs-comment"># 关闭链接</span><br>conn.close()<br>socket_server.close()<br></code></pre></td></tr></table></figure>



<h3 id="8-5-2-客户端编程"><a href="#8-5-2-客户端编程" class="headerlink" title="8.5.2 客户端编程"></a>8.5.2 客户端编程</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：08_socket_客户端开发.py.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：AlaskaBoo</span><br><span class="hljs-string">@Date    ：2024/11/08 19:08 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-keyword">import</span> socket<br><span class="hljs-comment"># 创建socket对象</span><br>socket_client = socket.socket()<br><span class="hljs-comment"># 连接到服务端</span><br>socket_client.connect((<span class="hljs-string">&#x27;127.0.0.1&#x27;</span>, <span class="hljs-number">8888</span>))<br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-comment"># 发送消息</span><br>    msg = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入要给服务器发送的消息:&quot;</span>)<br>    <span class="hljs-keyword">if</span> msg == <span class="hljs-string">&#x27;exit&#x27;</span>:<br>       <span class="hljs-keyword">break</span><br>    socket_client.send(msg.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>))<br>    <span class="hljs-comment"># 接收返回消息</span><br>    receive_data = socket_client.recv(<span class="hljs-number">1024</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;服务端回复的消息是：<span class="hljs-subst">&#123;receive_data.decode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)&#125;</span>&quot;</span>)<br><span class="hljs-comment"># 关闭链接</span><br>socket_client.close()<br></code></pre></td></tr></table></figure>





<h2 id="8-6-正则表达式"><a href="#8-6-正则表达式" class="headerlink" title="8.6 正则表达式"></a>8.6 正则表达式</h2><h3 id="8-6-1-基本概念"><a href="#8-6-1-基本概念" class="headerlink" title="8.6.1 基本概念"></a>8.6.1 基本概念</h3><p>正则表达式，又称规则表达式(Regular Expression)，是使用单个字符串来描述、匹配某个句法规则的字符串，常被用来检索、替换那些符合某个模式(规则)的文本。即字符串定义规则，并通过规则去验证字符串是否匹配。</p>
<blockquote>
<p>比如，验证一个字符串是否是符合条件的电子邮箱地址，只需要配置好正则规则，即可匹配任意邮箱。</p>
<p>比如通过正则规则：(^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$)即可匹配一个字符串是否是标准邮箱格式</p>
<p>但如果不使用正则，使用ifelse来对字符串做判断就非常困难了</p>
</blockquote>
<p>Python正则表达式，使用re模块，并基于re模块中三个基础方法来做正则匹配。</p>
<p>分别是：match、search、findall 三个基础方法</p>
<blockquote>
<p>re.match(匹配规则，被匹配字符串)</p>
<p>从被匹配字符串开头进行匹配，匹配成功返回匹配对象(包含匹配的信息)，匹配不成功返回空</p>
</blockquote>
<p>低阶使用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：09_正则表达式.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：AlaskaBoo</span><br><span class="hljs-string">@Date    ：2024/11/08 19:53 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> re<br><br>s = <span class="hljs-string">&#x27;python itheima itcast python python itheima&#x27;</span><br><span class="hljs-comment"># match 从头匹配</span><br>result = re.<span class="hljs-keyword">match</span>(<span class="hljs-string">&quot;python&quot;</span>, s)<br><span class="hljs-built_in">print</span>(result)<br><br><span class="hljs-comment"># search 从头开始搜索，找到第一个匹配项</span><br>result = re.search(<span class="hljs-string">&quot;itcast&quot;</span>, s)<br><span class="hljs-built_in">print</span>(result)<br><br><span class="hljs-comment"># findall 返回所有匹配项的列表</span><br>result = re.findall(<span class="hljs-string">&quot;python&quot;</span>, s)<br><span class="hljs-built_in">print</span>(result)<br></code></pre></td></tr></table></figure>



<h3 id="8-6-2-元字符匹配"><a href="#8-6-2-元字符匹配" class="headerlink" title="8.6.2 元字符匹配"></a>8.6.2 元字符匹配</h3><table>
<thead>
<tr>
<th>字符</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>.</td>
<td>匹配任意一个字符（除了\n），\.匹配点本身</td>
</tr>
<tr>
<td>[]</td>
<td>匹配[]中列举的字符</td>
</tr>
<tr>
<td>\d</td>
<td>匹配数字，即0-9</td>
</tr>
<tr>
<td>\D</td>
<td>匹配非数字</td>
</tr>
<tr>
<td>\s</td>
<td>匹配空白，即空格、tab键</td>
</tr>
<tr>
<td>\S</td>
<td>匹配非空白</td>
</tr>
<tr>
<td>\w</td>
<td>匹配单词字符，即a-z、A-Z、0-9、_</td>
</tr>
<tr>
<td>\W</td>
<td>匹配非单词字符</td>
</tr>
</tbody></table>
<p>数量匹配：</p>
<table>
<thead>
<tr>
<th>字符</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>匹配前一个规则的字符出现0至无数次</td>
</tr>
<tr>
<td>+</td>
<td>匹配前一个规则的字符出现1至无数次</td>
</tr>
<tr>
<td>?</td>
<td>匹配前一个规则的字符出现出现0次或1次</td>
</tr>
<tr>
<td>{m}</td>
<td>匹配前一个规则的字符出现出现m次</td>
</tr>
<tr>
<td>{m,}</td>
<td>匹配前一个规则的字符出现至少出现m次</td>
</tr>
<tr>
<td>{m,n}</td>
<td>匹配前一个规则的字符出现m到n次</td>
</tr>
</tbody></table>
<p>边界匹配：</p>
<table>
<thead>
<tr>
<th>字符</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>^</td>
<td>匹配字符串开头</td>
</tr>
<tr>
<td>$</td>
<td>匹配字符串结尾</td>
</tr>
<tr>
<td>\b</td>
<td>匹配一个单词的边界</td>
</tr>
<tr>
<td>\B</td>
<td>匹配非单词边界</td>
</tr>
</tbody></table>
<p>分组匹配：</p>
<table>
<thead>
<tr>
<th>字符</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>|</td>
<td>匹配左右任意一个表达式</td>
</tr>
<tr>
<td>()</td>
<td>将括号中字符作为一个分组</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：09_正则表达式_元字符匹配.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：AlaskaBoo</span><br><span class="hljs-string">@Date    ：2024/11/08 20:21 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> re<br><br>s = <span class="hljs-string">&quot;itcast1 @@python131￥%R#$%^&amp;*() ！！ 666 ##itheima3&quot;</span><br><br>result = re.findall(<span class="hljs-string">r&quot;[a-zA-Z0-9]&quot;</span>, s)<br><span class="hljs-built_in">print</span>(result)<br><span class="hljs-comment"># 匹配账号，只能由字母和数字组成，长度限制6到10位</span><br>r = <span class="hljs-string">&quot;^[a-zA-Z0-9]&#123;6,10&#125;$&quot;</span><br>s = <span class="hljs-string">&quot;itcast1&quot;</span><br>s1 = <span class="hljs-string">&#x27;123456789990&#x27;</span><br><span class="hljs-built_in">print</span>(re.findall(r, s))<br><span class="hljs-built_in">print</span>(re.findall(r, s1))<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-----------------------&quot;</span>)<br><span class="hljs-comment"># 匹配QQ号，要求纯数字，长度5-11，第一位不为0</span><br>r = <span class="hljs-string">&quot;^[1-9][0-9]&#123;4,10&#125;$&quot;</span><br>s = <span class="hljs-string">&quot;123456789&quot;</span><br>s1 = <span class="hljs-string">&#x27;123456789990&#x27;</span><br><span class="hljs-built_in">print</span>(re.findall(r, s))<br><span class="hljs-built_in">print</span>(re.findall(r, s1))<br><br><br><span class="hljs-comment"># 匹配邮箱地址，只允许qq、163、gmail这三种邮箱地址</span><br>r = <span class="hljs-string">r&quot;(^[\w-]+(\.[\w-]+)*@(163|qq|gmail)(\.[\w-]+)+$)&quot;</span><br>s = <span class="hljs-string">&quot;upchh@example.com&quot;</span><br>s1 = <span class="hljs-string">&#x27;anpch@126.com&#x27;</span><br>s2 = <span class="hljs-string">&#x27;envkt@163.com&#x27;</span><br>s3 = <span class="hljs-string">&#x27;envkt@qq.com&#x27;</span><br>s4 = <span class="hljs-string">&#x27;envkt@gmail.com&#x27;</span><br><span class="hljs-built_in">print</span>(re.<span class="hljs-keyword">match</span>(r, s))<br><span class="hljs-built_in">print</span>(re.<span class="hljs-keyword">match</span>(r, s1))<br><span class="hljs-built_in">print</span>(re.<span class="hljs-keyword">match</span>(r, s2))<br><span class="hljs-built_in">print</span>(re.<span class="hljs-keyword">match</span>(r, s3))<br><span class="hljs-built_in">print</span>(re.<span class="hljs-keyword">match</span>(r, s4))<br></code></pre></td></tr></table></figure>



<h2 id="8-7-递归"><a href="#8-7-递归" class="headerlink" title="8.7 递归"></a>8.7 递归</h2><ol>
<li><p>概念：在满足条件的情况下，函数自己调用自己的一种特殊编程</p>
</li>
<li><p>技巧递归需要注意什么？</p>
<ul>
<li><p>注意退出的条件，否则容易变成无限递归</p>
</li>
<li><p>注意返回值的传递，确保从最内层，层层传递到最外层</p>
</li>
</ul>
</li>
<li><p>os模块的3个方法</p>
<ul>
<li>os.listdir，列出指定目录下的内容</li>
<li>os.path.isdir，判断给定路径是否是文件夹，是返回True，否返回False</li>
<li>os.path.exists，判断给定路径是否存在，存在返回True，否则返回False</li>
</ul>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">@Project ：pythonProject </span><br><span class="hljs-string">@File    ：10_递归.py</span><br><span class="hljs-string">@IDE     ：PyCharm </span><br><span class="hljs-string">@Author  ：Alaskaboo</span><br><span class="hljs-string">@Date    ：2024/11/08 21:05 </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> os<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_os</span>():<br>    <span class="hljs-comment"># 列出路径下的内容</span><br>    <span class="hljs-comment"># print(os.listdir(&quot;E:\Markdown&quot;))</span><br>    <span class="hljs-comment"># 判断指定路径是不是文件夹</span><br>    <span class="hljs-comment"># print(os.path.isdir(&quot;E:\Markdown&quot;))</span><br>    <span class="hljs-comment"># 判断指定路径是不是存在</span><br>    <span class="hljs-built_in">print</span>(os.path.exists(<span class="hljs-string">&quot;E:\Markdown&quot;</span>))<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_files_recursion_from_dir</span>(<span class="hljs-params">path</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    从指定的文件夹中使用递归的方式,获取全部的文件列表</span><br><span class="hljs-string">    :param path: 被判断的文件夹</span><br><span class="hljs-string">    :return: list,包含全部的文件,如果目录不存在或者无文件就返回一个空list</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;当前调用的路径是:<span class="hljs-subst">&#123;path&#125;</span>&quot;</span>)<br>    <span class="hljs-comment"># 初始化一个空list</span><br>    file_list = []<br>    <span class="hljs-keyword">if</span> os.path.exists(path):<br>        <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> os.listdir(path):<br>            new_path = path + <span class="hljs-string">&#x27;/&#x27;</span> + f<br>            <span class="hljs-comment"># 如果是文件夹,就递归调用</span><br>            <span class="hljs-keyword">if</span> os.path.isdir(new_path):<br>                file_list += get_files_recursion_from_dir(new_path)<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-comment"># 如果是文件,就添加到列表中</span><br>                file_list.append(new_path)<br><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;指定文件目录<span class="hljs-subst">&#123;path&#125;</span>,不存在&quot;</span>)<br>        <span class="hljs-keyword">return</span> []<br>    <span class="hljs-keyword">return</span> file_list<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    test_os()<br>    <span class="hljs-built_in">print</span>(get_files_recursion_from_dir(<span class="hljs-string">r&quot;D:\上工程文件&quot;</span>))<br><br></code></pre></td></tr></table></figure>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" class="category-chain-item">机器学习</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/python/" class="print-no-link">#python</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>python语法</div>
      <div>http://example.com/2024/06/25/python学习/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Alaskaboo</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年6月25日</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>更新于</div>
          <div>2025年6月28日</div>
        </div>
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/02/28/SpringCloud/" title="SpringCould">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">SpringCould</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/06/25/Java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="Java数据结构">
                        <span class="hidden-mobile">Java数据结构</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://www.cnblogs.com/Alaskaboo" target="_blank" rel="nofollow noopener"><span>Alaskaboo</span></a> <i class="iconfont icon-love"></i> <a href="" target="_blank" rel="nofollow noopener"><span>以玖</span></a>
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        总访问量 
        <span id="leancloud-site-pv"></span>
         次
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        总访客数 
        <span id="leancloud-site-uv"></span>
         人
      </span>
    
    

  

</div>

  
  
    <!-- 备案信息 ICP for China -->
    <div class="beian">
  <span>
    <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
      渝ICP备2025063032号-2
    </a>
  </span>
  
    
      <span>
        <a
          href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=2025063032号-2"
          rel="nofollow noopener"
          class="beian-police"
          target="_blank"
        >
          
            <span style="visibility: hidden; width: 0">|</span>
            <img src="/img/police_beian.png" srcset="/img/loading.gif" lazyload alt="police-icon"/>
          
          <span>渝ICP备2025063032号-2</span>
        </a>
      </span>
    
  
</div>

  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
